<!doctype html>
<html lang="zh-cn" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-spring/提前编译：AOT">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">11、提前编译：AOT | 阅己 悦己 越己</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://crtdya.github.io/docs/spring/提前编译：AOT"><meta data-rh="true" name="docusaurus_locale" content="zh-cn"><meta data-rh="true" name="docsearch:language" content="zh-cn"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="11、提前编译：AOT | 阅己 悦己 越己"><meta data-rh="true" name="description" content="11.1、AOT概述"><meta data-rh="true" property="og:description" content="11.1、AOT概述"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://crtdya.github.io/docs/spring/提前编译：AOT"><link data-rh="true" rel="alternate" href="https://crtdya.github.io/docs/spring/提前编译：AOT" hreflang="zh-cn"><link data-rh="true" rel="alternate" href="https://crtdya.github.io/docs/spring/提前编译：AOT" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="阅己 悦己 越己 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="阅己 悦己 越己 Atom Feed"><link rel="stylesheet" href="/assets/css/styles.35f53748.css">
<link rel="preload" href="/assets/js/runtime~main.d6cdfb64.js" as="script">
<link rel="preload" href="/assets/js/main.59634f68.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://crtdya.github.io/" target="_blank" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/img/logo.jpg" alt="My Site Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.jpg" alt="My Site Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">旭尧的网站</b></a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/intro">文档</a><a class="navbar__item navbar__link" href="/blog">博客</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">掌握技能</a><ul class="dropdown__menu"><li><a href="https://www.facebook.com" target="_blank" rel="noopener noreferrer" class="dropdown__link">web前端</a></li><li><a href="https://www.facebook.com" target="_blank" rel="noopener noreferrer" class="dropdown__link">java后端</a></li></ul></div><div class="navbar__item">提交反馈</div><a href="https://github.com/crtdya/crtdya.github.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">我的GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a href="https://crtdya.github.io/" target="_blank" rel="noopener noreferrer" tabindex="-1" class="sidebarLogo_isFc"><img src="/img/logo.jpg" alt="My Site Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.jpg" alt="My Site Logo" class="themedImage_ToTc themedImage--dark_i4oU"><b>旭尧的网站</b></a><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">我的简历</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/java基础">Java基础</a><button aria-label="打开/收起侧边栏菜单「Java基础」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/mysql">MySQL</a><button aria-label="打开/收起侧边栏菜单「MySQL」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/git">Git</a><button aria-label="打开/收起侧边栏菜单「Git」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/category/spring">Spring</a><button aria-label="打开/收起侧边栏菜单「Spring」" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/spring/概述">1、 概述</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/spring/入门">2、 入门</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/spring/容器：IoC">3、 容器：IoC</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/spring/面向切面：AOP">4、 面向切面：AOP</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/spring/单元测试：JUnit">5、单元测试：JUnit</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/spring/事务">6、事务</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/spring/资源操作：Resources">8、资源操作：Resources</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/spring/国际化：i18n">9、国际化：i18n</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/spring/数据校验">10、数据校验：Validation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/spring/提前编译：AOT">11、提前编译：AOT</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/springmvc">SpringMVC</a><button aria-label="打开/收起侧边栏菜单「SpringMVC」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/mybatis">MyBatis</a><button aria-label="打开/收起侧边栏菜单「MyBatis」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/redis">Redis</a><button aria-label="打开/收起侧边栏菜单「Redis」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/vue-cesium">Vue Cesium</a><button aria-label="打开/收起侧边栏菜单「Vue Cesium」" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/spring"><span itemprop="name">Spring</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">11、提前编译：AOT</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><h1>11、提前编译：AOT</h1><p><img loading="lazy" src="/assets/images/aot0-225a413523309d2949d8fb013eeef1f7.png" width="657" height="30" class="img_ev3q"></p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="111aot概述">11.1、AOT概述<a href="#111aot概述" class="hash-link" aria-label="11.1、AOT概述的直接链接" title="11.1、AOT概述的直接链接">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1111jit与aot的区别">11.1.1、JIT与AOT的区别<a href="#1111jit与aot的区别" class="hash-link" aria-label="11.1.1、JIT与AOT的区别的直接链接" title="11.1.1、JIT与AOT的区别的直接链接">​</a></h3><p>JIT和AOT 这个名词是指两种不同的编译方式，这两种编译方式的主要区别在于是否在“运行时”进行编译</p><p><strong>（1）JIT， Just-in-time,动态(即时)编译，边运行边编译；</strong></p><p>在程序运行时，根据算法计算出热点代码，然后进行 JIT 实时编译，这种方式吞吐量高，有运行时性能加成，可以跑得更快，并可以做到动态生成代码等，但是相对启动速度较慢，并需要一定时间和调用频率才能触发 JIT 的分层机制。JIT 缺点就是编译需要占用运行时资源，会导致进程卡顿。</p><p><strong>（2）AOT，Ahead Of Time，指运行前编译，预先编译。</strong></p><p>AOT 编译能直接将源代码转化为机器码，内存占用低，启动速度快，可以无需 runtime 运行，直接将 runtime 静态链接至最终的程序中，但是无运行时性能加成，不能根据程序运行情况做进一步的优化，AOT 缺点就是在程序运行前编译会使程序安装的时间增加。                                                           </p><p><strong>简单来讲：</strong>JIT即时编译指的是在程序的运行过程中，将字节码转换为可在硬件上直接运行的机器码，并部署至托管环境中的过程。而 AOT 编译指的则是，在程序运行之前，便将字节码转换为机器码的过程。</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">.java -&gt; .class -&gt; (使用jaotc编译工具) -&gt; .so（程序函数库,即编译好的可以供其他程序使用的代码和数据）</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" src="/assets/images/aot1-064f3ef276649b37c3c39df03dfd16d6.png" width="656" height="368" class="img_ev3q"></p><p><strong>（3）AOT的优点</strong></p><p><strong>简单来讲，</strong>Java 虚拟机加载已经预编译成二进制库，可以直接执行。不必等待及时编译器的预热，减少 Java 应用给人带来“第一次运行慢” 的不良体验。</p><p>在程序运行前编译，可以避免在运行时的编译性能消耗和内存消耗
可以在程序运行初期就达到最高性能，程序启动速度快
运行产物只有机器码，打包体积小</p><p><strong>AOT的缺点</strong></p><p>由于是静态提前编译，不能根据硬件情况或程序运行情况择优选择机器指令序列，理论峰值性能不如JIT
没有动态能力，同一份产物不能跨平台运行</p><p>第一种即时编译 (JIT) 是默认模式，Java Hotspot 虚拟机使用它在运行时将字节码转换为机器码。后者提前编译 (AOT)由新颖的 GraalVM 编译器支持，并允许在构建时将字节码直接静态编译为机器码。</p><p>现在正处于云原生，降本增效的时代，Java 相比于 Go、Rust 等其他编程语言非常大的弊端就是启动编译和启动进程非常慢，这对于根据实时计算资源，弹性扩缩容的云原生技术相冲突，Spring6 借助 AOT 技术在运行时内存占用低，启动速度快，逐渐的来满足 Java 在云原生时代的需求，对于大规模使用 Java 应用的商业公司可以考虑尽早调研使用 JDK17，通过云原生技术为公司实现降本增效。</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1112graalvm">11.1.2、Graalvm<a href="#1112graalvm" class="hash-link" aria-label="11.1.2、Graalvm的直接链接" title="11.1.2、Graalvm的直接链接">​</a></h3><p>Spring6 支持的 AOT 技术，这个 GraalVM  就是底层的支持，Spring 也对 GraalVM 本机映像提供了一流的支持。GraalVM 是一种高性能 JDK，旨在加速用 Java 和其他 JVM 语言编写的应用程序的执行，同时还为 JavaScript、Python 和许多其他流行语言提供运行时。 GraalVM 提供两种运行 Java 应用程序的方法：在 HotSpot JVM 上使用 Graal 即时 (JIT) 编译器或作为提前 (AOT) 编译的本机可执行文件。 GraalVM 的多语言能力使得在单个应用程序中混合多种编程语言成为可能，同时消除了外语调用成本。GraalVM 向 HotSpot Java 虚拟机添加了一个用 Java 编写的高级即时 (JIT) 优化编译器。</p><p>GraalVM 具有以下特性：</p><p>（1）一种高级优化编译器，它生成更快、更精简的代码，需要更少的计算资源</p><p>（2）AOT 本机图像编译提前将 Java 应用程序编译为本机二进制文件，立即启动，无需预热即可实现最高性能</p><p>（3）Polyglot 编程在单个应用程序中利用流行语言的最佳功能和库，无需额外开销</p><p>（4）高级工具在 Java 和多种语言中调试、监视、分析和优化资源消耗</p><p>总的来说对云原生的要求不算高短期内可以继续使用 2.7.X 的版本和 JDK8，不过 Spring 官方已经对 Spring6 进行了正式版发布。</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1113native-image">11.1.3、Native Image<a href="#1113native-image" class="hash-link" aria-label="11.1.3、Native Image的直接链接" title="11.1.3、Native Image的直接链接">​</a></h3><p>目前业界除了这种在JVM中进行AOT的方案，还有另外一种实现Java AOT的思路，那就是直接摒弃JVM，和C/C++一样通过编译器直接将代码编译成机器代码，然后运行。这无疑是一种直接颠覆Java语言设计的思路，那就是GraalVM Native Image。它通过C语言实现了一个超微缩的运行时组件 —— Substrate VM，基本实现了JVM的各种特性，但足够轻量、可以被轻松内嵌，这就让Java语言和工程摆脱JVM的限制，能够真正意义上实现和C/C++一样的AOT编译。这一方案在经过长时间的优化和积累后，已经拥有非常不错的效果，基本上成为Oracle官方首推的Java AOT解决方案。
Native Image 是一项创新技术，可将 Java 代码编译成独立的本机可执行文件或本机共享库。在构建本机可执行文件期间处理的 Java 字节码包括所有应用程序类、依赖项、第三方依赖库和任何所需的 JDK 类。生成的自包含本机可执行文件特定于不需要 JVM 的每个单独的操作系统和机器体系结构。</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="112演示native-image构建过程">11.2、演示Native Image构建过程<a href="#112演示native-image构建过程" class="hash-link" aria-label="11.2、演示Native Image构建过程的直接链接" title="11.2、演示Native Image构建过程的直接链接">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1121graalvm安装">11.2.1、GraalVM安装<a href="#1121graalvm安装" class="hash-link" aria-label="11.2.1、GraalVM安装的直接链接" title="11.2.1、GraalVM安装的直接链接">​</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1下载graalvm">（1）下载GraalVM<a href="#1下载graalvm" class="hash-link" aria-label="（1）下载GraalVM的直接链接" title="（1）下载GraalVM的直接链接">​</a></h4><p>进入官网下载：<a href="https://www.graalvm.org/downloads/" target="_blank" rel="noopener noreferrer">https://www.graalvm.org/downloads/</a></p><p><img loading="lazy" src="/assets/images/aot2-68a1bed062efd412e90a022f899563af.png" width="651" height="205" class="img_ev3q"></p><p><img loading="lazy" src="/assets/images/aot3-32e2cabb287ad213042f04cb6049ac13.png" width="641" height="251" class="img_ev3q"></p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="2配置环境变量">（2）配置环境变量<a href="#2配置环境变量" class="hash-link" aria-label="（2）配置环境变量的直接链接" title="（2）配置环境变量的直接链接">​</a></h4><p><strong>添加GRAALVM_HOME</strong></p><p><img loading="lazy" src="/assets/images/aot4-1fd0ef29265c42a9e93e429e7f7acae0.png" width="651" height="157" class="img_ev3q"></p><p><strong>把JAVA_HOME修改为graalvm的位置</strong></p><p><img loading="lazy" src="/assets/images/aot5-7ed6e38458afe7b0474e325972345ad1.png" width="643" height="155" class="img_ev3q"></p><p><strong>把Path修改位graalvm的bin位置</strong></p><p><img loading="lazy" src="/assets/images/aot6-f71e824deb935649072edd731f246877.png" width="649" height="151" class="img_ev3q"></p><p><strong>使用命令查看是否安装成功</strong></p><p><img loading="lazy" src="/assets/images/aot7-a7e1295d4b392a48eddeeaf5b4931068.png" width="650" height="76" class="img_ev3q"></p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="3安装native-image插件">（3）安装native-image插件<a href="#3安装native-image插件" class="hash-link" aria-label="（3）安装native-image插件的直接链接" title="（3）安装native-image插件的直接链接">​</a></h4><p><strong>使用命令 gu install native-image下载安装</strong></p><p><img loading="lazy" src="/assets/images/aot8-73669f4cb677145fe908a33262d12903.png" width="647" height="227" class="img_ev3q"></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1122安装c的编译环境">11.2.2、安装C++的编译环境<a href="#1122安装c的编译环境" class="hash-link" aria-label="11.2.2、安装C++的编译环境的直接链接" title="11.2.2、安装C++的编译环境的直接链接">​</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1下载visual-studio安装软件">（1）下载Visual Studio安装软件<a href="#1下载visual-studio安装软件" class="hash-link" aria-label="（1）下载Visual Studio安装软件的直接链接" title="（1）下载Visual Studio安装软件的直接链接">​</a></h4><p><a href="https://visualstudio.microsoft.com/zh-hans/downloads/" target="_blank" rel="noopener noreferrer">https://visualstudio.microsoft.com/zh-hans/downloads/</a></p><p><img loading="lazy" src="/assets/images/aot9-4ff149817ccbf1ecea81f7b53d4b255d.png" width="634" height="311" class="img_ev3q"></p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="2安装visual-studio">（2）安装Visual Studio<a href="#2安装visual-studio" class="hash-link" aria-label="（2）安装Visual Studio的直接链接" title="（2）安装Visual Studio的直接链接">​</a></h4><p><img loading="lazy" src="/assets/images/aot10-10db973fd55beaf49bf6dd4eb2b3d92c.png" width="646" height="319" class="img_ev3q"></p><p><img loading="lazy" src="/assets/images/aot11-014eaf2aade979849d91b9a8354507ae.png" width="627" height="238" class="img_ev3q"></p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="3添加visual-studio环境变量">（3）添加Visual Studio环境变量<a href="#3添加visual-studio环境变量" class="hash-link" aria-label="（3）添加Visual Studio环境变量的直接链接" title="（3）添加Visual Studio环境变量的直接链接">​</a></h4><p>配置INCLUDE、LIB和Path</p><p><img loading="lazy" src="/assets/images/aot12-b4e0b2f946c8eb277703fcbc2cd8bc78.png" width="664" height="207" class="img_ev3q"></p><p><img loading="lazy" src="/assets/images/aot13-0818b24c95e81162cdec64a84b129eeb.png" width="644" height="153" class="img_ev3q"></p><p><img loading="lazy" src="/assets/images/aot14-1aefc18af50a7152cf67ebc91bd600a4.png" width="649" height="268" class="img_ev3q"></p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="4打开工具在工具中操作">（4）打开工具，在工具中操作<a href="#4打开工具在工具中操作" class="hash-link" aria-label="（4）打开工具，在工具中操作的直接链接" title="（4）打开工具，在工具中操作的直接链接">​</a></h4><p><img loading="lazy" src="/assets/images/aot15-293946fa3c26368254b74e3f7c44ff49.png" width="514" height="101" class="img_ev3q"></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1123编写代码构建native-image">11.2.3、编写代码，构建Native Image<a href="#1123编写代码构建native-image" class="hash-link" aria-label="11.2.3、编写代码，构建Native Image的直接链接" title="11.2.3、编写代码，构建Native Image的直接链接">​</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1编写java代码">（1）编写Java代码<a href="#1编写java代码" class="hash-link" aria-label="（1）编写Java代码的直接链接" title="（1）编写Java代码的直接链接">​</a></h4><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public class Hello {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public static void main(String[] args) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot;hello world&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="2复制文件到目录执行编译">（2）复制文件到目录，执行编译<a href="#2复制文件到目录执行编译" class="hash-link" aria-label="（2）复制文件到目录，执行编译的直接链接" title="（2）复制文件到目录，执行编译的直接链接">​</a></h4><p><img loading="lazy" src="/assets/images/aot16-b45bcfc2f508ffb447a44f3da235b4f2.png" width="649" height="157" class="img_ev3q"></p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="3native-image-进行构建">（3）Native Image 进行构建<a href="#3native-image-进行构建" class="hash-link" aria-label="（3）Native Image 进行构建的直接链接" title="（3）Native Image 进行构建的直接链接">​</a></h4><p><img loading="lazy" src="/assets/images/aot17-70d3d451fcd1bd68385a1db479c5cbba.png" width="648" height="195" class="img_ev3q"></p><p><img loading="lazy" src="/assets/images/aot18-edf8dae16d2b4a82f6ff74b7b2864bea.png" width="646" height="305" class="img_ev3q"></p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="4查看构建的文件">（4）查看构建的文件<a href="#4查看构建的文件" class="hash-link" aria-label="（4）查看构建的文件的直接链接" title="（4）查看构建的文件的直接链接">​</a></h4><p><img loading="lazy" src="data:image/png;base64,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" width="447" height="136" class="img_ev3q"></p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="5执行构建的文件">（5）执行构建的文件<a href="#5执行构建的文件" class="hash-link" aria-label="（5）执行构建的文件的直接链接" title="（5）执行构建的文件的直接链接">​</a></h4><p><img loading="lazy" src="/assets/images/aot20-b366942b6eeb719066fd15357271ae6d.png" width="635" height="98" class="img_ev3q"></p><p>可以看到这个Hello最终打包产出的二进制文件大小为11M，这是包含了SVM和JDK各种库后的大小，虽然相比C/C++的二进制文件来说体积偏大，但是对比完整JVM来说，可以说是已经是非常小了。</p><p>相比于使用JVM运行，Native Image的速度要快上不少，cpu占用也更低一些，从官方提供的各类实验数据也可以看出Native Image对于启动速度和内存占用带来的提升是非常显著的：</p><p><img loading="lazy" src="/assets/images/aot21-7ec301a3d3e0c9d4753dc2c0055bdc6b.png" width="645" height="312" class="img_ev3q"></p><p><img loading="lazy" src="/assets/images/aot22-df196c61afb721ab46f63ee2c5d3afa8.png" width="674" height="376" class="img_ev3q"></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/4_spring/10.提前编译：AOT.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>编辑此页</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文件选项卡"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/spring/数据校验"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">10、数据校验：Validation</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/category/springmvc"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">SpringMVC</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#111aot概述" class="table-of-contents__link toc-highlight">11.1、AOT概述</a><ul><li><a href="#1111jit与aot的区别" class="table-of-contents__link toc-highlight">11.1.1、JIT与AOT的区别</a></li><li><a href="#1112graalvm" class="table-of-contents__link toc-highlight">11.1.2、Graalvm</a></li><li><a href="#1113native-image" class="table-of-contents__link toc-highlight">11.1.3、Native Image</a></li></ul></li><li><a href="#112演示native-image构建过程" class="table-of-contents__link toc-highlight">11.2、演示Native Image构建过程</a><ul><li><a href="#1121graalvm安装" class="table-of-contents__link toc-highlight">11.2.1、GraalVM安装</a></li><li><a href="#1122安装c的编译环境" class="table-of-contents__link toc-highlight">11.2.2、安装C++的编译环境</a></li><li><a href="#1123编写代码构建native-image" class="table-of-contents__link toc-highlight">11.2.3、编写代码，构建Native Image</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://crtdya.github.io/" rel="noopener noreferrer" class="footerLogoLink_BH7S"><img src="/img/Copyright.png" class="themedImage_ToTc themedImage--light_HNdA footer__logo" width="34"><img src="/img/Copyright.png" class="themedImage_ToTc themedImage--dark_i4oU footer__logo" width="34"></a></div><div class="footer__copyright">Copyright © 冯雪涵 2023/8/18 京ICP备11015476号</div></div></div></footer></div>
<script src="/assets/js/runtime~main.d6cdfb64.js"></script>
<script src="/assets/js/main.59634f68.js"></script>
</body>
</html>