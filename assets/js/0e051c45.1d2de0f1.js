"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[9670],{3905:(e,n,t)=>{t.d(n,{Zo:()=>m,kt:()=>g});var a=t(7294);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function p(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)t=l[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)t=l[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var i=a.createContext({}),d=function(e){var n=a.useContext(i),t=n;return e&&(t="function"==typeof e?e(n):s(s({},n),e)),t},m=function(e){var n=d(e.components);return a.createElement(i.Provider,{value:n},e.children)},o="mdxType",c={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},u=a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,l=e.originalType,i=e.parentName,m=p(e,["components","mdxType","originalType","parentName"]),o=d(t),u=r,g=o["".concat(i,".").concat(u)]||o[u]||c[u]||l;return t?a.createElement(g,s(s({ref:n},m),{},{components:t})):a.createElement(g,s({ref:n},m))}));function g(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var l=t.length,s=new Array(l);s[0]=u;var p={};for(var i in n)hasOwnProperty.call(n,i)&&(p[i]=n[i]);p.originalType=e,p[o]="string"==typeof e?e:r,s[1]=p;for(var d=2;d<l;d++)s[d]=t[d];return a.createElement.apply(null,s)}return a.createElement.apply(null,t)}u.displayName="MDXCreateElement"},6991:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>i,contentTitle:()=>s,default:()=>c,frontMatter:()=>l,metadata:()=>p,toc:()=>d});var a=t(7462),r=(t(7294),t(3905));const l={},s="\u4e00\u3001 \u642d\u5efaMyBatis",p={unversionedId:"mybatis/\u642d\u5efaMyBatis",id:"mybatis/\u642d\u5efaMyBatis",title:"\u4e00\u3001 \u642d\u5efaMyBatis",description:"1\u3001 \u521b\u5efamaven\u5de5\u7a0b",source:"@site/docs/6_mybatis/1.\u642d\u5efaMyBatis.md",sourceDirName:"6_mybatis",slug:"/mybatis/\u642d\u5efaMyBatis",permalink:"/docs/mybatis/\u642d\u5efaMyBatis",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/6_mybatis/1.\u642d\u5efaMyBatis.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"MyBatis",permalink:"/docs/category/mybatis"},next:{title:"Redis",permalink:"/docs/category/redis"}},i={},d=[{value:"1\u3001 \u521b\u5efamaven\u5de5\u7a0b",id:"1-\u521b\u5efamaven\u5de5\u7a0b",level:2},{value:"\u5bfc\u5165\u4f9d\u8d56",id:"\u5bfc\u5165\u4f9d\u8d56",level:3},{value:"2\u3001 \u521b\u5efaMyBatis\u7684\u6838\u5fc3\u914d\u7f6e\u6587\u4ef6",id:"2-\u521b\u5efamybatis\u7684\u6838\u5fc3\u914d\u7f6e\u6587\u4ef6",level:2},{value:"3\u3001\u521b\u5efamapper\u63a5\u53e3",id:"3\u521b\u5efamapper\u63a5\u53e3",level:2},{value:"4\u3001\u521b\u5efaMyBatis\u7684\u6620\u5c04\u6587\u4ef6",id:"4\u521b\u5efamybatis\u7684\u6620\u5c04\u6587\u4ef6",level:2},{value:"1\u3001\u5355\u4e2a\u5b57\u9762\u91cf\u7c7b\u578b\u7684\u53c2\u6570",id:"1\u5355\u4e2a\u5b57\u9762\u91cf\u7c7b\u578b\u7684\u53c2\u6570",level:2},{value:"2\u3001\u591a\u4e2a\u5b57\u9762\u91cf\u7c7b\u578b\u7684\u53c2\u6570",id:"2\u591a\u4e2a\u5b57\u9762\u91cf\u7c7b\u578b\u7684\u53c2\u6570",level:2},{value:"3\u3001map\u96c6\u5408\u7c7b\u578b\u7684\u53c2\u6570",id:"3map\u96c6\u5408\u7c7b\u578b\u7684\u53c2\u6570",level:2},{value:"4\u3001\u5b9e\u4f53\u7c7b\u7c7b\u578b\u7684\u53c2\u6570",id:"4\u5b9e\u4f53\u7c7b\u7c7b\u578b\u7684\u53c2\u6570",level:2},{value:"5\u3001\u4f7f\u7528@Param\u6807\u8bc6\u53c2\u6570",id:"5\u4f7f\u7528param\u6807\u8bc6\u53c2\u6570",level:2},{value:"1\u3001\u67e5\u8be2\u4e00\u4e2a\u5b9e\u4f53\u7c7b\u5bf9\u8c61",id:"1\u67e5\u8be2\u4e00\u4e2a\u5b9e\u4f53\u7c7b\u5bf9\u8c61",level:2},{value:"2\u3001\u67e5\u8be2\u4e00\u4e2alist\u96c6\u5408",id:"2\u67e5\u8be2\u4e00\u4e2alist\u96c6\u5408",level:2},{value:"3\u3001\u67e5\u8be2\u5355\u4e2a\u6570\u636e",id:"3\u67e5\u8be2\u5355\u4e2a\u6570\u636e",level:2},{value:"4\u3001\u67e5\u8be2\u4e00\u6761\u6570\u636e\u4e3amap\u96c6\u5408",id:"4\u67e5\u8be2\u4e00\u6761\u6570\u636e\u4e3amap\u96c6\u5408",level:2},{value:"5\u3001\u67e5\u8be2\u591a\u6761\u6570\u636e\u4e3amap\u96c6\u5408",id:"5\u67e5\u8be2\u591a\u6761\u6570\u636e\u4e3amap\u96c6\u5408",level:2},{value:"\u65b9\u5f0f\u4e00\uff1a",id:"\u65b9\u5f0f\u4e00",level:3},{value:"\u65b9\u5f0f\u4e8c\uff1a",id:"\u65b9\u5f0f\u4e8c",level:3},{value:"1\u3001\u6a21\u7cca\u67e5\u8be2",id:"1\u6a21\u7cca\u67e5\u8be2",level:2},{value:"2\u3001\u6279\u91cf\u5220\u9664",id:"2\u6279\u91cf\u5220\u9664",level:2},{value:"3\u3001\u52a8\u6001\u8bbe\u7f6e\u8868\u540d",id:"3\u52a8\u6001\u8bbe\u7f6e\u8868\u540d",level:2},{value:"4\u3001\u6dfb\u52a0\u529f\u80fd\u83b7\u53d6\u81ea\u589e\u7684\u4e3b\u952e",id:"4\u6dfb\u52a0\u529f\u80fd\u83b7\u53d6\u81ea\u589e\u7684\u4e3b\u952e",level:2},{value:"1\u3001resultMap\u5904\u7406\u5b57\u6bb5\u548c\u5c5e\u6027\u7684\u6620\u5c04\u5173\u7cfb",id:"1resultmap\u5904\u7406\u5b57\u6bb5\u548c\u5c5e\u6027\u7684\u6620\u5c04\u5173\u7cfb",level:2},{value:"2\u3001\u591a\u5bf9\u4e00\u6620\u5c04\u5904\u7406",id:"2\u591a\u5bf9\u4e00\u6620\u5c04\u5904\u7406",level:2},{value:"(1) \u7ea7\u8054\u65b9\u5f0f\u5904\u7406\u6620\u5c04\u5173\u7cfb",id:"1-\u7ea7\u8054\u65b9\u5f0f\u5904\u7406\u6620\u5c04\u5173\u7cfb",level:3},{value:"(2) \u4f7f\u7528association\u5904\u7406\u6620\u5c04\u5173\u7cfb",id:"2-\u4f7f\u7528association\u5904\u7406\u6620\u5c04\u5173\u7cfb",level:3},{value:"(3) \u5206\u6b65\u67e5\u8be2",id:"3-\u5206\u6b65\u67e5\u8be2",level:3},{value:"3\u3001\u4e00\u5bf9\u591a\u6620\u5c04\u5904\u7406",id:"3\u4e00\u5bf9\u591a\u6620\u5c04\u5904\u7406",level:2},{value:"(1) collection",id:"1-collection",level:3},{value:"(2) \u5206\u6b65\u67e5\u8be2",id:"2-\u5206\u6b65\u67e5\u8be2",level:3},{value:"1\u3001if",id:"1if",level:2},{value:"2\u3001where",id:"2where",level:2},{value:"3\u3001trim",id:"3trim",level:2},{value:"4\u3001choose\u3001when\u3001otherwise",id:"4choosewhenotherwise",level:2},{value:"5\u3001foreach",id:"5foreach",level:2},{value:"6\u3001SQL\u7247\u6bb5",id:"6sql\u7247\u6bb5",level:2},{value:"1\u3001MyBatis\u7684\u4e00\u7ea7\u7f13\u5b58",id:"1mybatis\u7684\u4e00\u7ea7\u7f13\u5b58",level:2},{value:"2\u3001MyBatis\u7684\u4e8c\u7ea7\u7f13\u5b58",id:"2mybatis\u7684\u4e8c\u7ea7\u7f13\u5b58",level:2},{value:"3\u3001\u4e8c\u7ea7\u7f13\u5b58\u7684\u76f8\u5173\u914d\u7f6e",id:"3\u4e8c\u7ea7\u7f13\u5b58\u7684\u76f8\u5173\u914d\u7f6e",level:2},{value:"4\u3001MyBatis\u7f13\u5b58\u67e5\u8be2\u7684\u987a\u5e8f",id:"4mybatis\u7f13\u5b58\u67e5\u8be2\u7684\u987a\u5e8f",level:2},{value:"5\u3001\u6574\u5408\u7b2c\u4e09\u65b9\u7f13\u5b58EHCache",id:"5\u6574\u5408\u7b2c\u4e09\u65b9\u7f13\u5b58ehcache",level:2},{value:"(1) \u6dfb\u52a0\u4f9d\u8d56",id:"1-\u6dfb\u52a0\u4f9d\u8d56",level:3},{value:"(2) \u521b\u5efaEHCache\u7684\u914d\u7f6e\u6587\u4ef6ehcache.xml",id:"2-\u521b\u5efaehcache\u7684\u914d\u7f6e\u6587\u4ef6ehcachexml",level:3},{value:"(3) \u8bbe\u7f6e\u4e8c\u7ea7\u7f13\u5b58\u7684\u7c7b\u578b",id:"3-\u8bbe\u7f6e\u4e8c\u7ea7\u7f13\u5b58\u7684\u7c7b\u578b",level:3},{value:"(4) \u52a0\u5165logback\u65e5\u5fd7",id:"4-\u52a0\u5165logback\u65e5\u5fd7",level:3},{value:"(5) &gt;EHCache\u914d\u7f6e\u6587\u4ef6\u8bf4\u660e",id:"5-ehcache\u914d\u7f6e\u6587\u4ef6\u8bf4\u660e",level:3},{value:"1\u3001\u521b\u5efa\u9006\u5411\u5de5\u7a0b\u7684\u6b65\u9aa4",id:"1\u521b\u5efa\u9006\u5411\u5de5\u7a0b\u7684\u6b65\u9aa4",level:2},{value:"(1) \u6dfb\u52a0\u4f9d\u8d56\u548c\u63d2\u4ef6",id:"1-\u6dfb\u52a0\u4f9d\u8d56\u548c\u63d2\u4ef6",level:3},{value:"(2) \u521b\u5efaMyBatis\u7684\u6838\u5fc3\u914d\u7f6e\u6587\u4ef6",id:"2-\u521b\u5efamybatis\u7684\u6838\u5fc3\u914d\u7f6e\u6587\u4ef6-1",level:3},{value:"(3) \u521b\u5efa\u9006\u5411\u5de5\u7a0b\u7684\u914d\u7f6e\u6587\u4ef6",id:"3-\u521b\u5efa\u9006\u5411\u5de5\u7a0b\u7684\u914d\u7f6e\u6587\u4ef6",level:3},{value:"(4) \u6267\u884cMBG\u63d2\u4ef6\u7684generate\u76ee\u6807",id:"4-\u6267\u884cmbg\u63d2\u4ef6\u7684generate\u76ee\u6807",level:3},{value:"2\u3001QBC\u67e5\u8be2",id:"2qbc\u67e5\u8be2",level:2},{value:"1\u3001\u5206\u9875\u63d2\u4ef6\u4f7f\u7528\u6b65\u9aa4",id:"1\u5206\u9875\u63d2\u4ef6\u4f7f\u7528\u6b65\u9aa4",level:2},{value:"(1) \u6dfb\u52a0\u4f9d\u8d56",id:"1-\u6dfb\u52a0\u4f9d\u8d56-1",level:3},{value:"(2) \u914d\u7f6e\u5206\u9875\u63d2\u4ef6",id:"2-\u914d\u7f6e\u5206\u9875\u63d2\u4ef6",level:3},{value:"2\u3001\u5206\u9875\u63d2\u4ef6\u7684\u4f7f\u7528",id:"2\u5206\u9875\u63d2\u4ef6\u7684\u4f7f\u7528",level:2}],m={toc:d},o="wrapper";function c(e){let{components:n,...t}=e;return(0,r.kt)(o,(0,a.Z)({},m,t,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"\u4e00-\u642d\u5efamybatis"},"\u4e00\u3001 \u642d\u5efaMyBatis"),(0,r.kt)("h2",{id:"1-\u521b\u5efamaven\u5de5\u7a0b"},"1\u3001 \u521b\u5efamaven\u5de5\u7a0b"),(0,r.kt)("h3",{id:"\u5bfc\u5165\u4f9d\u8d56"},"\u5bfc\u5165\u4f9d\u8d56"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},"<dependencies>\n\x3c!-- Mybatis\u6838\u5fc3 --\x3e\n<dependency>\n<groupId>org.mybatis</groupId>\n<artifactId>mybatis</artifactId>\n<version>3.5.7</version>\n</dependency>\n\x3c!-- junit\u6d4b\u8bd5 --\x3e\n<dependency>\n<groupId>junit</groupId>\n<artifactId>junit</artifactId>\n<version>4.12</version>\n<scope>test</scope>\n</dependency>\n\x3c!-- MySQL\u9a71\u52a8 --\x3e\n<dependency>\n<groupId>mysql</groupId>\n<artifactId>mysql-connector-java</artifactId>\n<version>5.1.3</version>\n</dependency>\n</dependencies>\n")),(0,r.kt)("h2",{id:"2-\u521b\u5efamybatis\u7684\u6838\u5fc3\u914d\u7f6e\u6587\u4ef6"},"2\u3001 \u521b\u5efaMyBatis\u7684\u6838\u5fc3\u914d\u7f6e\u6587\u4ef6"),(0,r.kt)("p",null,"\u6211\u4eec\u5728\u4e60\u60ef\u4e0a\u547d\u540d\u4e3amybatis-config.xml\uff0c\u8fd9\u4e2a\u6587\u4ef6\u540d\u4ec5\u4ec5\u53ea\u662f\u5efa\u8bae\uff0c\u5e76\u975e\u5f3a\u5236\u8981\u6c42\u3002\u6838\u5fc3\u914d\u7f6e\u6587\u4ef6\u4e3b\u8981\u7528\u4e8e\u914d\u7f6e\u8fde\u63a5\u6570\u636e\u5e93\u7684\u73af\u5883\u4ee5\u53caMyBatis\u7684\u5168\u5c40\u914d\u7f6e\u4fe1\u606f\uff0c\u5b58\u653e\u7684\u4f4d\u7f6e\u662fsrc/main/resources\u76ee\u5f55\u4e0b\uff0c\u5c06\u6765\u6574\u5408Spring\u4e4b\u540e\uff0c\u8fd9\u4e2a\u914d\u7f6e\u6587\u4ef6\u53ef\u4ee5\u7701\u7565\u3002"),(0,r.kt)("h2",{id:"3\u521b\u5efamapper\u63a5\u53e3"},"3\u3001\u521b\u5efamapper\u63a5\u53e3"),(0,r.kt)("p",null,"MyBatis\u4e2d\u7684mapper\u63a5\u53e3\u76f8\u5f53\u4e8e\u4ee5\u524d\u7684dao,\u5c01\u88c5\u4e86\u5bf9\u6570\u636e\u7684\u8bbf\u95ee\u3001\u64cd\u4f5c\u548c\u6301\u4e45\u5316\u7b49\u64cd\u4f5c\uff0c\u5e76\u63d0\u4f9b\u4e86\u5bf9\u6570\u636e\u8bbf\u95ee\u7684\u7edf\u4e00\u63a5\u53e3\u3002\u4f46\u662f\u533a\u522b\u5728\u4e8e\uff0cmapper\u4ec5\u4ec5\u662f\u63a5\u53e3\uff0c\u6211\u4eec\u4e0d\u9700\u8981\u63d0\u4f9b\u5b9e\u73b0\u7c7b\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},"public interface UserMapper {\n/**\n* \u6dfb\u52a0\u7528\u6237\u4fe1\u606f\n*/\nint insertUser();\n}\n")),(0,r.kt)("h2",{id:"4\u521b\u5efamybatis\u7684\u6620\u5c04\u6587\u4ef6"},"4\u3001\u521b\u5efaMyBatis\u7684\u6620\u5c04\u6587\u4ef6"),(0,r.kt)("p",null,"\u76f8\u5173\u6982\u5ff5\uff1aORM\uff08Object Relationship Mapping\uff09\u5bf9\u8c61\u5173\u7cfb\u6620\u5c04\u3002\n\u5bf9\u8c61\uff1aJava\u7684\u5b9e\u4f53\u7c7b\u5bf9\u8c61\n\u5173\u7cfb\uff1a\u5173\u7cfb\u578b\u6570\u636e\u5e93\n\u6620\u5c04\uff1a\u4e8c\u8005\u4e4b\u95f4\u7684\u5bf9\u5e94\u5173\u7cfb"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Java\u6982\u5ff5"),(0,r.kt)("th",{parentName:"tr",align:null},"\u6570\u636e\u5e93\u6982\u5ff5"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"\u7c7b"),(0,r.kt)("td",{parentName:"tr",align:null},"\u8868")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"\u5c5e\u6027"),(0,r.kt)("td",{parentName:"tr",align:null},"\u5b57\u6bb5/\u5217")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"\u5bf9\u8c61"),(0,r.kt)("td",{parentName:"tr",align:null},"\u8bb0\u5f55/\u884c")))),(0,r.kt)("p",null,"1\u3001\u6620\u5c04\u6587\u4ef6\u7684\u547d\u540d\u89c4\u5219\uff1a\n\u8868\u6240\u5bf9\u5e94\u7684\u5b9e\u4f53\u7c7b\u7684\u7c7b\u540d+Mapper.xml\n\u4f8b\u5982\uff1a\u8868user\uff0c\u6620\u5c04\u7684\u5b9e\u4f53\u7c7b\u4e3aUser\uff0c\u6240\u5bf9\u5e94\u7684\u6620\u5c04\u6587\u4ef6\u4e3aUserMapper.xml\n\u56e0\u6b64\u4e00\u4e2a\u6620\u5c04\u6587\u4ef6\u5bf9\u5e94\u4e00\u4e2a\u5b9e\u4f53\u7c7b\uff0c\u5bf9\u5e94\u4e00\u5f20\u8868\u7684\u64cd\u4f5c\nMyBatis\u6620\u5c04\u6587\u4ef6\u7528\u4e8e\u7f16\u5199SQL\uff0c\u8bbf\u95ee\u4ee5\u53ca\u64cd\u4f5c\u8868\u4e2d\u7684\u6570\u636e\nMyBatis\u6620\u5c04\u6587\u4ef6\u5b58\u653e\u7684\u4f4d\u7f6e\u662fsrc/main/resources/mappers\u76ee\u5f55\u4e0b"),(0,r.kt)("p",null,"2\u3001MyBatis\u4e2d\u53ef\u4ee5\u9762\u5411\u63a5\u53e3\u64cd\u4f5c\u6570\u636e\uff0c\u8981\u4fdd\u8bc1\u4e24\u4e2a\u4e00\u81f4\uff1a\n(1) mapper\u63a5\u53e3\u7684\u5168\u7c7b\u540d\u548c\u6620\u5c04\u6587\u4ef6\u7684\u547d\u540d\u7a7a\u95f4\uff08namespace\uff09\u4fdd\u6301\u4e00\u81f4\n(2) mapper\u63a5\u53e3\u4e2d\u65b9\u6cd5\u7684\u65b9\u6cd5\u540d\u548c\u6620\u5c04\u6587\u4ef6\u4e2d\u7f16\u5199SQL\u7684\u6807\u7b7e\u7684id\u5c5e\u6027\u4fdd\u6301\u4e00\u81f4"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},'<?xml version="1.0" encoding="UTF-8" ?>\n<!DOCTYPE mapper\nPUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"\n"http://mybatis.org/dtd/mybatis-3-mapper.dtd">\n<mapper namespace="com.xuyao.mybatis.mapper.UserMapper">\n\x3c!--int insertUser();--\x3e\n<insert id="insertUser">\ninsert into user values(null,\'\u5f20\u4e09\',\'123\',23,\'\u5973\')\n</insert>\n</mapper>\n')),(0,r.kt)("h1",{id:"\u4e8cmybatis\u7684\u589e\u5220\u6539\u67e5"},"\u4e8c\u3001MyBatis\u7684\u589e\u5220\u6539\u67e5"),(0,r.kt)("p",null,"1\u3001\u6dfb\u52a0"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},"\x3c!--int insertUser();--\x3e\n<insert id=\"insertUser\">\n    insert into user values(null,'admin','123456',23,'\u7537')\n</insert>\n")),(0,r.kt)("p",null,"2\u3001\u5220\u9664"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},'\x3c!--int deleteUser();--\x3e\n<delete id="deleteUser">\n    delete from user where id = 7\n</delete>\n')),(0,r.kt)("p",null,"3\u3001\u4fee\u6539"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},"\x3c!--int updateUser();--\x3e\n<update id=\"updateUser\">\n    update user set username='ybc',password='123' where id = 6\n</update>\n")),(0,r.kt)("p",null,"4\u3001\u67e5\u8be2\u4e00\u4e2a\u5b9e\u4f53\u7c7b\u5bf9\u8c61"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},'\x3c!--User getUserById();--\x3e\n<select id="getUserById" resultType="com.xuyao.mybatis.bean.User">\n    select * from user where id = 2\n</select\n')),(0,r.kt)("p",null,"5\u3001\u67e5\u8be2\u96c6\u5408"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},'\x3c!--List<User> getUserList();--\x3e\n<select id="getUserList" resultType="com.xuyao.mybatis.bean.User">\n    select * from user\n</select>\n')),(0,r.kt)("p",null,"\u6ce8\u610f\uff1a\n(1) \u67e5\u8be2\u7684\u6807\u7b7eselect\u5fc5\u987b\u8bbe\u7f6e\u5c5e\u6027resultType\u6216resultMap\uff0c\u7528\u4e8e\u8bbe\u7f6e\u5b9e\u4f53\u7c7b\u548c\u6570\u636e\u5e93\u8868\u7684\u6620\u5c04\u5173\u7cfb"),(0,r.kt)("p",null,"resultType\uff1a\u81ea\u52a8\u6620\u5c04\uff0c\u7528\u4e8e\u5c5e\u6027\u540d\u548c\u8868\u4e2d\u5b57\u6bb5\u540d\u4e00\u81f4\u7684\u60c5\u51b5\nresultMap\uff1a\u81ea\u5b9a\u4e49\u6620\u5c04\uff0c\u7528\u4e8e\u4e00\u5bf9\u591a\u6216\u591a\u5bf9\u4e00\u6216\u5b57\u6bb5\u540d\u548c\u5c5e\u6027\u540d\u4e0d\u4e00\u81f4\u7684\u60c5\u51b5"),(0,r.kt)("p",null,"(2) \u5f53\u67e5\u8be2\u7684\u6570\u636e\u4e3a",(0,r.kt)("strong",{parentName:"p"},"\u591a\u6761"),"\u65f6\uff0c",(0,r.kt)("strong",{parentName:"p"},"\u4e0d\u80fd\u4f7f\u7528\u5b9e\u4f53\u7c7b\u4f5c\u4e3a\u8fd4\u56de\u503c"),"\uff0c",(0,r.kt)("strong",{parentName:"p"},"\u53ea\u80fd\u4f7f\u7528\u96c6\u5408"),"\uff0c\u5426\u5219\u4f1a\u629b\u51fa\u5f02\u5e38TooManyResultsException\uff1b\u4f46\u662f\u82e5\u67e5\u8be2\u7684\u6570\u636e\u53ea\u6709\u4e00\u6761\uff0c\u53ef\u4ee5\u4f7f\u7528\u5b9e\u4f53\u7c7b\u6216\u96c6\u5408\u4f5c\u4e3a\u8fd4\u56de\u503c\u3002"),(0,r.kt)("h1",{id:"\u4e09mybatis\u83b7\u53d6\u53c2\u6570\u503c\u7684\u4e24\u79cd\u65b9\u5f0f\u91cd\u70b9"},"\u4e09\u3001MyBatis\u83b7\u53d6\u53c2\u6570\u503c\u7684\u4e24\u79cd\u65b9\u5f0f\uff08\u91cd\u70b9\uff09"),(0,r.kt)("p",null,"MyBatis\u83b7\u53d6\u53c2\u6570\u503c\u7684\u4e24\u79cd\u65b9\u5f0f\uff1a${}\u548c#{}\n${}\u7684\u672c\u8d28\u5c31\u662f\u5b57\u7b26\u4e32\u62fc\u63a5\uff0c#{}\u7684\u672c\u8d28\u5c31\u662f\u5360\u4f4d\u7b26\u8d4b\u503c\n${}\u4f7f\u7528\u5b57\u7b26\u4e32\u62fc\u63a5\u7684\u65b9\u5f0f\u62fc\u63a5sql\uff0c\u82e5\u4e3a\u5b57\u7b26\u4e32\u7c7b\u578b\u6216\u65e5\u671f\u7c7b\u578b\u7684\u5b57\u6bb5\u8fdb\u884c\u8d4b\u503c\u65f6\uff0c\u9700\u8981\u624b\u52a8\u52a0\u5355\u5f15\n\u53f7\uff1b\u4f46\u662f#{}\u4f7f\u7528\u5360\u4f4d\u7b26\u8d4b\u503c\u7684\u65b9\u5f0f\u62fc\u63a5sql\uff0c\u6b64\u65f6\u4e3a\u5b57\u7b26\u4e32\u7c7b\u578b\u6216\u65e5\u671f\u7c7b\u578b\u7684\u5b57\u6bb5\u8fdb\u884c\u8d4b\u503c\u65f6\uff0c\u53ef\u4ee5\u81ea\n\u52a8\u6dfb\u52a0\u5355\u5f15\u53f7"),(0,r.kt)("h2",{id:"1\u5355\u4e2a\u5b57\u9762\u91cf\u7c7b\u578b\u7684\u53c2\u6570"},"1\u3001\u5355\u4e2a\u5b57\u9762\u91cf\u7c7b\u578b\u7684\u53c2\u6570"),(0,r.kt)("p",null,"\u82e5mapper\u63a5\u53e3\u4e2d\u7684\u65b9\u6cd5\u53c2\u6570\u4e3a\u5355\u4e2a\u7684\u5b57\u9762\u91cf\u7c7b\u578b\n\u6b64\u65f6\u53ef\u4ee5\u4f7f\u7528${}\u548c#{}\u4ee5\u4efb\u610f\u7684\u540d\u79f0\u83b7\u53d6\u53c2\u6570\u7684\u503c\uff0c\u6ce8\u610f${}\u9700\u8981\u624b\u52a8\u52a0\u5355\u5f15\u53f7"),(0,r.kt)("h2",{id:"2\u591a\u4e2a\u5b57\u9762\u91cf\u7c7b\u578b\u7684\u53c2\u6570"},"2\u3001\u591a\u4e2a\u5b57\u9762\u91cf\u7c7b\u578b\u7684\u53c2\u6570"),(0,r.kt)("p",null,"\u82e5mapper\u63a5\u53e3\u4e2d\u7684\u65b9\u6cd5\u53c2\u6570\u4e3a\u591a\u4e2a\u65f6\uff0c\u6b64\u65f6MyBatis\u4f1a\u81ea\u52a8\u5c06\u8fd9\u4e9b\u53c2\u6570\u653e\u5728\u4e00\u4e2amap\u96c6\u5408\u4e2d\uff0c\u4ee5arg0,arg1...\u4e3a\u952e\uff0c\u4ee5\u53c2\u6570\u4e3a\u503c\uff1b\u4ee5param1,param2...\u4e3a\u952e\uff0c\u4ee5\u53c2\u6570\u4e3a\u503c\uff1b\u56e0\u6b64\u53ea\u9700\u8981\u901a\u8fc7${}\u548c#{}\u8bbf\u95eemap\u96c6\u5408\u7684\u952e\u5c31\u53ef\u4ee5\u83b7\u53d6\u76f8\u5bf9\u5e94\u7684\u503c\uff0c\u6ce8\u610f${}\u9700\u8981\u624b\u52a8\u52a0\u5355\u5f15\u53f7"),(0,r.kt)("h2",{id:"3map\u96c6\u5408\u7c7b\u578b\u7684\u53c2\u6570"},"3\u3001map\u96c6\u5408\u7c7b\u578b\u7684\u53c2\u6570"),(0,r.kt)("p",null,"\u82e5mapper\u63a5\u53e3\u4e2d\u7684\u65b9\u6cd5\u9700\u8981\u7684\u53c2\u6570\u4e3a\u591a\u4e2a\u65f6\uff0c\u6b64\u65f6\u53ef\u4ee5\u624b\u52a8\u521b\u5efamap\u96c6\u5408\uff0c\u5c06\u8fd9\u4e9b\u6570\u636e\u653e\u5728map\u4e2d\n\u53ea\u9700\u8981\u901a\u8fc7${}\u548c#{}\u8bbf\u95eemap\u96c6\u5408\u7684\u952e\u5c31\u53ef\u4ee5\u83b7\u53d6\u76f8\u5bf9\u5e94\u7684\u503c\uff0c\u6ce8\u610f${}\u9700\u8981\u624b\u52a8\u52a0\u5355\u5f15\u53f7"),(0,r.kt)("h2",{id:"4\u5b9e\u4f53\u7c7b\u7c7b\u578b\u7684\u53c2\u6570"},"4\u3001\u5b9e\u4f53\u7c7b\u7c7b\u578b\u7684\u53c2\u6570"),(0,r.kt)("p",null,"\u82e5mapper\u63a5\u53e3\u4e2d\u7684\u65b9\u6cd5\u53c2\u6570\u4e3a\u5b9e\u4f53\u7c7b\u5bf9\u8c61\u65f6,\u6b64\u65f6\u53ef\u4ee5\u4f7f\u7528${}\u548c#{}\uff0c\u901a\u8fc7\u8bbf\u95ee\u5b9e\u4f53\u7c7b\u5bf9\u8c61\u4e2d\u7684\u5c5e\u6027\u540d\u83b7\u53d6\u5c5e\u6027\u503c\uff0c\u6ce8\u610f${}\u9700\u8981\u624b\u52a8\u52a0\u5355\u5f15\u53f7"),(0,r.kt)("h2",{id:"5\u4f7f\u7528param\u6807\u8bc6\u53c2\u6570"},"5\u3001\u4f7f\u7528@Param\u6807\u8bc6\u53c2\u6570"),(0,r.kt)("p",null,"\u53ef\u4ee5\u901a\u8fc7@Param\u6ce8\u89e3\u6807\u8bc6mapper\u63a5\u53e3\u4e2d\u7684\u65b9\u6cd5\u53c2\u6570,\u6b64\u65f6\u4f1a\u5c06\u8fd9\u4e9b\u53c2\u6570\u653e\u5728map\u96c6\u5408\u4e2d\uff0c\u4ee5@Param\u6ce8\u89e3\u7684value\u5c5e\u6027\u503c\u4e3a\u952e\uff0c\u4ee5\u53c2\u6570\u4e3a\u503c\uff1b\u4ee5param1,param2...\u4e3a\u952e\uff0c\u4ee5\u53c2\u6570\u4e3a\u503c\uff1b\u53ea\u9700\u8981\u901a\u8fc7${}\u548c#{}\u8bbf\u95eemap\u96c6\u5408\u7684\u952e\u5c31\u53ef\u4ee5\u83b7\u53d6\u76f8\u5bf9\u5e94\u7684\u503c\uff0c\u6ce8\u610f${}\u9700\u8981\u624b\u52a8\u52a0\u5355\u5f15\u53f7"),(0,r.kt)("h1",{id:"\u56dbmybatis\u7684\u5404\u79cd\u67e5\u8be2\u529f\u80fd"},"\u56db\u3001MyBatis\u7684\u5404\u79cd\u67e5\u8be2\u529f\u80fd"),(0,r.kt)("h2",{id:"1\u67e5\u8be2\u4e00\u4e2a\u5b9e\u4f53\u7c7b\u5bf9\u8c61"},"1\u3001\u67e5\u8be2\u4e00\u4e2a\u5b9e\u4f53\u7c7b\u5bf9\u8c61"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},'/**\n* \u6839\u636e\u7528\u6237id\u67e5\u8be2\u7528\u6237\u4fe1\u606f\n* @param id\n* @return\n*/\nUser getUserById(@Param("id") int id);\n')),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},'\x3c!--User getUserById(@Param("id") int id);--\x3e\n<select id="getUserById" resultType="User">\n    select * from user where id = #{id}\n</select>\n')),(0,r.kt)("h2",{id:"2\u67e5\u8be2\u4e00\u4e2alist\u96c6\u5408"},"2\u3001\u67e5\u8be2\u4e00\u4e2alist\u96c6\u5408"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},"/**\n* \u67e5\u8be2\u6240\u6709\u7528\u6237\u4fe1\u606f\n* @return\n*/\nList<User> getUserList();\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},'\x3c!--List<User> getUserList();--\x3e\n<select id="getUserList" resultType="User">\n    select * from user\n</select>\n')),(0,r.kt)("h2",{id:"3\u67e5\u8be2\u5355\u4e2a\u6570\u636e"},"3\u3001\u67e5\u8be2\u5355\u4e2a\u6570\u636e"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},"/**\n* \u67e5\u8be2\u7528\u6237\u7684\u603b\u8bb0\u5f55\u6570\n* @return\n* \u5728MyBatis\u4e2d\uff0c\u5bf9\u4e8eJava\u4e2d\u5e38\u7528\u7684\u7c7b\u578b\u90fd\u8bbe\u7f6e\u4e86\u7c7b\u578b\u522b\u540d\n* \u4f8b\u5982\uff1ajava.lang.Integer--\x3eint|integer\n* \u4f8b\u5982\uff1aint--\x3e_int|_integer\n* \u4f8b\u5982\uff1aMap--\x3emap,List--\x3elist\n*/\nint getCount();\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},'\x3c!--int getCount();--\x3e\n<select id="getCount" resultType="_integer">\n    select count(id) from user\n</select>\n')),(0,r.kt)("h2",{id:"4\u67e5\u8be2\u4e00\u6761\u6570\u636e\u4e3amap\u96c6\u5408"},"4\u3001\u67e5\u8be2\u4e00\u6761\u6570\u636e\u4e3amap\u96c6\u5408"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},'/**\n* \u6839\u636e\u7528\u6237id\u67e5\u8be2\u7528\u6237\u4fe1\u606f\u4e3amap\u96c6\u5408\n* @param id\n* @return\n*/\nMap<String, Object> getUserToMap(@Param("id") int id);\n')),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},'\x3c!--Map<String, Object> getUserToMap(@Param("id") int id);--\x3e\n<select id="getUserToMap" resultType="map">\n    select * from user where id = #{id}\n</select>\n\x3c!--\u7ed3\u679c\uff1a{password=123456, sex=\u7537, id=1, age=23, username=admin}--\x3e\n')),(0,r.kt)("h2",{id:"5\u67e5\u8be2\u591a\u6761\u6570\u636e\u4e3amap\u96c6\u5408"},"5\u3001\u67e5\u8be2\u591a\u6761\u6570\u636e\u4e3amap\u96c6\u5408"),(0,r.kt)("h3",{id:"\u65b9\u5f0f\u4e00"},"\u65b9\u5f0f\u4e00\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},"/**\n* \u67e5\u8be2\u6240\u6709\u7528\u6237\u4fe1\u606f\u4e3amap\u96c6\u5408\n* @return\n* \u5c06\u8868\u4e2d\u7684\u6570\u636e\u4ee5map\u96c6\u5408\u7684\u65b9\u5f0f\u67e5\u8be2\uff0c\u4e00\u6761\u6570\u636e\u5bf9\u5e94\u4e00\u4e2amap\uff1b\u82e5\u6709\u591a\u6761\u6570\u636e\uff0c\u5c31\u4f1a\u4ea7\u751f\u591a\u4e2amap\u96c6\u5408\uff0c\u6b64\n\u65f6\u53ef\u4ee5\u5c06\u8fd9\u4e9bmap\u653e\u5728\u4e00\u4e2alist\u96c6\u5408\u4e2d\u83b7\u53d6\n*/\nList<Map<String, Object>> getAllUserToMap();\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},'\x3c!--Map<String, Object> getAllUserToMap();--\x3e\n<select id="getAllUserToMap" resultType="map">\n    select * from user\n</select>\n')),(0,r.kt)("h3",{id:"\u65b9\u5f0f\u4e8c"},"\u65b9\u5f0f\u4e8c\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},'/**\n* \u67e5\u8be2\u6240\u6709\u7528\u6237\u4fe1\u606f\u4e3amap\u96c6\u5408\n* @return\n* \u5c06\u8868\u4e2d\u7684\u6570\u636e\u4ee5map\u96c6\u5408\u7684\u65b9\u5f0f\u67e5\u8be2\uff0c\u4e00\u6761\u6570\u636e\u5bf9\u5e94\u4e00\u4e2amap\uff1b\u82e5\u6709\u591a\u6761\u6570\u636e\uff0c\u5c31\u4f1a\u4ea7\u751f\u591a\u4e2amap\u96c6\u5408\uff0c\u5e76\u4e14\u6700\u7ec8\u8981\u4ee5\u4e00\u4e2amap\u7684\u65b9\u5f0f\u8fd4\u56de\u6570\u636e\uff0c\u6b64\u65f6\u9700\u8981\u901a\u8fc7@MapKey\u6ce8\u89e3\u8bbe\u7f6emap\u96c6\u5408\u7684\u952e\uff0c\u503c\u662f\u6bcf\u6761\u6570\u636e\u6240\u5bf9\u5e94\u7684map\u96c6\u5408\n*/\n@MapKey("id")\nMap<String, Object> getAllUserToMap();\n')),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},'\x3c!--Map<String, Object> getAllUserToMap();--\x3e\n<select id="getAllUserToMap" resultType="map">\nselect * from user\n</select>\n\u7ed3\u679c\uff1a\n\x3c!--\n{\n    1={password=123456, sex=\u7537, id=1, age=23, username=admin},\n    2={password=123456, sex=\u7537, id=2, age=23, username=\u5f20\u4e09},\n    3={password=123456, sex=\u7537, id=3, age=23, username=\u5f20\u4e09}\n}\n--\x3e\n')),(0,r.kt)("h1",{id:"\u4e94\u7279\u6b8asql\u7684\u6267\u884c"},"\u4e94\u3001\u7279\u6b8aSQL\u7684\u6267\u884c"),(0,r.kt)("h2",{id:"1\u6a21\u7cca\u67e5\u8be2"},"1\u3001\u6a21\u7cca\u67e5\u8be2"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},'/**\n* \u6d4b\u8bd5\u6a21\u7cca\u67e5\u8be2\n* @param mohu\n* @return\n*/\nList<User> testMohu(@Param("mohu") String mohu);\n')),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},'\x3c!--List<User> testMohu(@Param("mohu") String mohu);--\x3e\n<select id="testMohu" resultType="User">\n    \x3c!--select * from user where username like \'%${mohu}%\'--\x3e\n    \x3c!--select * from user where username like concat(\'%\',#{mohu},\'%\')--\x3e\n    select * from user where username like "%"#{mohu}"%"\n</select>\n')),(0,r.kt)("h2",{id:"2\u6279\u91cf\u5220\u9664"},"2\u3001\u6279\u91cf\u5220\u9664"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},'/**\n* \u6279\u91cf\u5220\u9664\n* @param ids\n* @return\n*/\nint deleteMore(@Param("ids") String ids);\n')),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},'\x3c!--int deleteMore(@Param("ids") String ids);--\x3e\n<delete id="deleteMore">\n    delete from user where id in (${ids})\n</delete>\n')),(0,r.kt)("h2",{id:"3\u52a8\u6001\u8bbe\u7f6e\u8868\u540d"},"3\u3001\u52a8\u6001\u8bbe\u7f6e\u8868\u540d"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},'/**\n* \u52a8\u6001\u8bbe\u7f6e\u8868\u540d\uff0c\u67e5\u8be2\u6240\u6709\u7684\u7528\u6237\u4fe1\u606f\n* @param tableName\n* @return\n*/\nList<User> getAllUser(@Param("tableName") String tableName);\n')),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},'\x3c!--List<User> getAllUser(@Param("tableName") String tableName);--\x3e\n<select id="getAllUser" resultType="User">\nselect * from ${tableName}\n</select>\n')),(0,r.kt)("h2",{id:"4\u6dfb\u52a0\u529f\u80fd\u83b7\u53d6\u81ea\u589e\u7684\u4e3b\u952e"},"4\u3001\u6dfb\u52a0\u529f\u80fd\u83b7\u53d6\u81ea\u589e\u7684\u4e3b\u952e"),(0,r.kt)("p",null,"clazz(clazz_id,clazz_name)\nstudent(studenid,studenname,clazz_id)\n1\u3001\u6dfb\u52a0\u73ed\u7ea7\u4fe1\u606f\n2\u3001\u83b7\u53d6\u65b0\u6dfb\u52a0\u7684\u73ed\u7ea7\u7684id\n3\u3001\u4e3a\u73ed\u7ea7\u5206\u914d\u5b66\u751f\uff0c\u5373\u5c06\u67d0\u5b66\u7684\u73ed\u7ea7id\u4fee\u6539\u4e3a\u65b0\u6dfb\u52a0\u7684\u73ed\u7ea7\u7684id"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},"/**\n* \u6dfb\u52a0\u7528\u6237\u4fe1\u606f\n* @param user\n* @return\n* useGeneratedKeys\uff1a\u8bbe\u7f6e\u4f7f\u7528\u81ea\u589e\u7684\u4e3b\u952e\n* keyProperty\uff1a\u56e0\u4e3a\u589e\u5220\u6539\u6709\u7edf\u4e00\u7684\u8fd4\u56de\u503c\u662f\u53d7\u5f71\u54cd\u7684\u884c\u6570\uff0c\u56e0\u6b64\u53ea\u80fd\u5c06\u83b7\u53d6\u7684\u81ea\u589e\u7684\u4e3b\u952e\u653e\u5728\u4f20\u8f93\u7684\u53c2\n\u6570user\u5bf9\u8c61\u7684\u67d0\u4e2a\u5c5e\u6027\u4e2d\n*/\nint insertUser(User user);\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},'\x3c!--int insertUser(User user);--\x3e\n<insert id="insertUser" useGeneratedKeys="true" keyProperty="id">\n    insert into user values(null,#{username},#{password},#{age},#{sex})\n</insert>\n')),(0,r.kt)("h1",{id:"\u516d\u81ea\u5b9a\u4e49\u6620\u5c04resultmap"},"\u516d\u3001\u81ea\u5b9a\u4e49\u6620\u5c04resultMap"),(0,r.kt)("h2",{id:"1resultmap\u5904\u7406\u5b57\u6bb5\u548c\u5c5e\u6027\u7684\u6620\u5c04\u5173\u7cfb"},"1\u3001resultMap\u5904\u7406\u5b57\u6bb5\u548c\u5c5e\u6027\u7684\u6620\u5c04\u5173\u7cfb"),(0,r.kt)("p",null,"\u82e5",(0,r.kt)("strong",{parentName:"p"},"\u5b57\u6bb5\u540d\u548c\u5b9e\u4f53\u7c7b\u4e2d\u7684\u5c5e\u6027\u540d\u4e0d\u4e00\u81f4"),"\uff0c\u5219\u53ef\u4ee5\u901a\u8fc7resultMap\u8bbe\u7f6e\u81ea\u5b9a\u4e49\u6620\u5c04"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},'\x3c!--\nresultMap\uff1a\u8bbe\u7f6e\u81ea\u5b9a\u4e49\u6620\u5c04\n\u5c5e\u6027\uff1a\nid\uff1a\u8868\u793a\u81ea\u5b9a\u4e49\u6620\u5c04\u7684\u552f\u4e00\u6807\u8bc6\ntype\uff1a\u67e5\u8be2\u7684\u6570\u636e\u8981\u6620\u5c04\u7684\u5b9e\u4f53\u7c7b\u7684\u7c7b\u578b\n\u5b50\u6807\u7b7e\uff1a\nid\uff1a\u8bbe\u7f6e\u4e3b\u952e\u7684\u6620\u5c04\u5173\u7cfb\nresult\uff1a\u8bbe\u7f6e\u666e\u901a\u5b57\u6bb5\u7684\u6620\u5c04\u5173\u7cfb\nassociation\uff1a\u8bbe\u7f6e\u591a\u5bf9\u4e00\u7684\u6620\u5c04\u5173\u7cfb\ncollection\uff1a\u8bbe\u7f6e\u4e00\u5bf9\u591a\u7684\u6620\u5c04\u5173\u7cfb\n\u5c5e\u6027\uff1a\nproperty\uff1a\u8bbe\u7f6e\u6620\u5c04\u5173\u7cfb\u4e2d\u5b9e\u4f53\u7c7b\u4e2d\u7684\u5c5e\u6027\u540d\ncolumn\uff1a\u8bbe\u7f6e\u6620\u5c04\u5173\u7cfb\u4e2d\u8868\u4e2d\u7684\u5b57\u6bb5\u540d\n--\x3e\n<resultMap id="userMap" type="User">\n<id property="id" column="id"></id>\n    <result property="userName" column="user_name"></result>\n    <result property="password" column="password"></result>\n    <result property="age" column="age"></result>\n    <result property="sex" column="sex"></result>\n</resultMap>\n\x3c!--List<User> testMohu(@Param("mohu") String mohu);--\x3e\n<select id="testMohu" resultMap="userMap">\n    \x3c!--select * from user where username like \'%${mohu}%\'--\x3e\n    select id,user_name,password,age,sex from user where user_name like concat(\'%\',#{mohu},\'%\')\n</select>\n')),(0,r.kt)("p",null,"\u82e5\u5b57\u6bb5\u540d\u548c\u5b9e\u4f53\u7c7b\u4e2d\u7684\u5c5e\u6027\u540d\u4e0d\u4e00\u81f4\uff0c\u4f46\u662f\u5b57\u6bb5\u540d\u7b26\u5408\u6570\u636e\u5e93\u7684\u89c4\u5219\uff08\u4f7f\u7528",(0,r.kt)("em",{parentName:"p"},"\uff09\uff0c\u5b9e\u4f53\u7c7b\u4e2d\u7684\u5c5e\u6027\u540d\u7b26\u5408Java\u7684\u89c4\u5219\uff08\u4f7f\u7528\u9a7c\u5cf0\uff09\n\u6b64\u65f6\u4e5f\u53ef\u901a\u8fc7\u4ee5\u4e0b\u4e24\u79cd\u65b9\u5f0f\u5904\u7406\u5b57\u6bb5\u540d\u548c\u5b9e\u4f53\u7c7b\u4e2d\u7684\u5c5e\u6027\u7684\u6620\u5c04\u5173\u7cfb\n(1) \u53ef\u4ee5\u901a\u8fc7\u4e3a\u5b57\u6bb5\u8d77\u522b\u540d\u7684\u65b9\u5f0f\uff0c\u4fdd\u8bc1\u548c\u5b9e\u4f53\u7c7b\u4e2d\u7684\u5c5e\u6027\u540d\u4fdd\u6301\u4e00\u81f4\n(2) \u53ef\u4ee5\u5728MyBatis\u7684\u6838\u5fc3\u914d\u7f6e\u6587\u4ef6\u4e2d\u8bbe\u7f6e\u4e00\u4e2a\u5168\u5c40\u914d\u7f6e\u4fe1\u606fmapUnderscoreToCamelCase\uff0c\u53ef\u4ee5\u5728\u67e5\u8be2\u8868\u4e2d\u6570\u636e\u65f6\uff0c\u81ea\u52a8\u5c06"),"\u7c7b\u578b\u7684\u5b57\u6bb5\u540d\u8f6c\u6362\u4e3a\u9a7c\u5cf0\n\u4f8b\u5982\uff1a\u5b57\u6bb5\u540duser_name\uff0c\u8bbe\u7f6e\u4e86mapUnderscoreToCamelCase\uff0c\u6b64\u65f6\u5b57\u6bb5\u540d\u5c31\u4f1a\u8f6c\u6362\u4e3auserName"),(0,r.kt)("h2",{id:"2\u591a\u5bf9\u4e00\u6620\u5c04\u5904\u7406"},"2\u3001\u591a\u5bf9\u4e00\u6620\u5c04\u5904\u7406"),(0,r.kt)("p",null,"\u67e5\u8be2\u5458\u5de5\u4fe1\u606f\u4ee5\u53ca\u5458\u5de5\u6240\u5bf9\u5e94\u7684\u90e8\u95e8\u4fe1\u606f"),(0,r.kt)("h3",{id:"1-\u7ea7\u8054\u65b9\u5f0f\u5904\u7406\u6620\u5c04\u5173\u7cfb"},"(1) \u7ea7\u8054\u65b9\u5f0f\u5904\u7406\u6620\u5c04\u5173\u7cfb"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},'<resultMap id="empDeptMap" type="Emp">\n<id column="eid" property="eid"></id>\n<result column="ename" property="ename"></result>\n<result column="age" property="age"></result>\n<result column="sex" property="sex"></result>\n<result column="did" property="dept.did"></result>\n<result column="dname" property="dept.dname"></result>\n</resultMap>\n\x3c!--Emp getEmpAndDeptByEid(@Param("eid") int eid);--\x3e\n<select id="getEmpAndDeptByEid" resultMap="empDeptMap">\n    select emp.*,dept.* from emp emp left join dept dept on emp.did =dept.did where emp.eid = #{eid}\n</select>\n')),(0,r.kt)("h3",{id:"2-\u4f7f\u7528association\u5904\u7406\u6620\u5c04\u5173\u7cfb"},"(2) \u4f7f\u7528association\u5904\u7406\u6620\u5c04\u5173\u7cfb"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},'<resultMap id="empDeptMap" type="Emp">\n<id column="eid" property="eid"></id>\n<result column="ename" property="ename"></result>\n<result column="age" property="age"></result>\n<result column="sex" property="sex"></result>\n<association property="dept" javaType="Dept">\n<id column="did" property="did"></id>\n<result column="dname" property="dname"></result>\n</association>\n</resultMap>\n\x3c!--Emp getEmpAndDeptByEid(@Param("eid") int eid);--\x3e\n<select id="getEmpAndDeptByEid" resultMap="empDeptMap">\n    select emp.*,dept.* from emp emp left join dept dept on emp.did =dept.did where emp.eid = #{eid}\n</select>\n')),(0,r.kt)("h3",{id:"3-\u5206\u6b65\u67e5\u8be2"},"(3) \u5206\u6b65\u67e5\u8be2"),(0,r.kt)("p",null,"\u67e5\u8be2\u5458\u5de5\u4fe1\u606f"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},'/**\n* \u901a\u8fc7\u5206\u6b65\u67e5\u8be2\u67e5\u8be2\u5458\u5de5\u4fe1\u606f\n* @param eid\n* @return\n*/\nEmp getEmpByStep(@Param("eid") int eid);\n')),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},'<resultMap id="empDeptStepMap" type="Emp">\n    <id column="eid" property="eid"></id>\n    <result column="ename" property="ename"></result>\n    <result column="age" property="age"></result>\n    <result column="sex" property="sex"></result>\n    \x3c!--\n    select\uff1a\u8bbe\u7f6e\u5206\u6b65\u67e5\u8be2\uff0c\u67e5\u8be2\u67d0\u4e2a\u5c5e\u6027\u7684\u503c\u7684sql\u7684\u6807\u8bc6\uff08namespace.sqlId\uff09\n    column\uff1a\u5c06sql\u4ee5\u53ca\u67e5\u8be2\u7ed3\u679c\u4e2d\u7684\u67d0\u4e2a\u5b57\u6bb5\u8bbe\u7f6e\u4e3a\u5206\u6b65\u67e5\u8be2\u7684\u6761\u4ef6\n    --\x3e\n    <association property="dept"\nselect="com.xuyao.MyBatis.mapper.DeptMapper.getEmpDeptByStep" column="did">\n</association>\n</resultMap>\n\x3c!--Emp getEmpByStep(@Param("eid") int eid);--\x3e\n<select id="getEmpByStep" resultMap="empDeptStepMap">\n    select * from emp where eid = #{eid}\n</select>\n')),(0,r.kt)("p",null,"\u6839\u636e\u5458\u5de5\u6240\u5bf9\u5e94\u7684\u90e8\u95e8id\u67e5\u8be2\u90e8\u95e8\u4fe1\u606f"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},'/**\n* \u5206\u6b65\u67e5\u8be2\u7684\u7b2c\u4e8c\u6b65\uff1a\u6839\u636e\u5458\u5de5\u6240\u5bf9\u5e94\u7684did\u67e5\u8be2\u90e8\u95e8\u4fe1\u606f\n* @param did\n* @return\n*/\nDept getEmpDeptByStep(@Param("did") int did);\n')),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},'\x3c!--Dept getEmpDeptByStep(@Param("did") int did);--\x3e\n<select id="getEmpDeptByStep" resultType="Dept">\nselect * from dept where did = #{did}\n</select>\n')),(0,r.kt)("h2",{id:"3\u4e00\u5bf9\u591a\u6620\u5c04\u5904\u7406"},"3\u3001\u4e00\u5bf9\u591a\u6620\u5c04\u5904\u7406"),(0,r.kt)("h3",{id:"1-collection"},"(1) collection"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},'/**\n* \u6839\u636e\u90e8\u95e8id\u67e5\u65b0\u90e8\u95e8\u4ee5\u53ca\u90e8\u95e8\u4e2d\u7684\u5458\u5de5\u4fe1\u606f\n* @param did\n* @return\n*/\nDept getDeptEmpByDid(@Param("did") int did);\n<resultMap id="deptEmpMap" type="Dept">\n<id property="did" column="did"></id>\n<result property="dname" column="dname"></result>\n\x3c!--\n-- ofType\uff1a\u8bbe\u7f6ecollection\u6807\u7b7e\u6240\u5904\u7406\u7684\u96c6\u5408\u5c5e\u6027\u4e2d\u5b58\u50a8\u6570\u636e\u7684\u7c7b\u578b\n--\x3e\n<collection property="emps" ofType="Emp">\n<id property="eid" column="eid"></id>\n<result property="ename" column="ename"></result>\n<result property="age" column="age"></result>\n<result property="sex" column="sex"></result>\n</collection>\n</resultMap>\n\x3c!--Dept getDeptEmpByDid(@Param("did") int did);--\x3e\n<select id="getDeptEmpByDid" resultMap="deptEmpMap">\nselect dept.*,emp.* from dept dept left join emp emp on dept.did =\nemp.did where dept.did = #{did}\n</select>\n')),(0,r.kt)("h3",{id:"2-\u5206\u6b65\u67e5\u8be2"},"(2) \u5206\u6b65\u67e5\u8be2"),(0,r.kt)("p",null,"\u67e5\u8be2\u90e8\u95e8\u4fe1\u606f"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},'/**\n* \u5206\u6b65\u67e5\u8be2\u90e8\u95e8\u548c\u90e8\u95e8\u4e2d\u7684\u5458\u5de5\n* @param did\n* @return\n*/\nDept getDeptByStep(@Param("did") int did);\n')),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},'<resultMap id="deptEmpStep" type="Dept">\n<id property="did" column="did"></id>\n<result property="dname" column="dname"></result>\n<collection property="emps" fetchType="eager"\nselect="com.xuyao.MyBatis.mapper.EmpMapper.getEmpListByDid" column="did">\n</collection>\n</resultMap>\n\x3c!--Dept getDeptByStep(@Param("did") int did);--\x3e\n<select id="getDeptByStep" resultMap="deptEmpStep">\nselect * from dept where did = #{did}\n</select>\n')),(0,r.kt)("p",null,"\u6839\u636e\u90e8\u95e8id\u67e5\u8be2\u90e8\u95e8\u4e2d\u7684\u6240\u6709\u5458\u5de5"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},'/**\n* \u6839\u636e\u90e8\u95e8id\u67e5\u8be2\u5458\u5de5\u4fe1\u606f\n* @param did\n* @return\n*/\nList<Emp> getEmpListByDid(@Param("did") int did);\n')),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},'\x3c!--List<Emp> getEmpListByDid(@Param("did") int did);--\x3e\n<select id="getEmpListByDid" resultType="Emp">\nselect * from emp where did = #{did}\n</select>\n')),(0,r.kt)("p",null,'\u5206\u6b65\u67e5\u8be2\u7684\u4f18\u70b9\uff1a\u53ef\u4ee5\u5b9e\u73b0\u5ef6\u8fdf\u52a0\u8f7d\uff0c\u4f46\u662f\u5fc5\u987b\u5728\u6838\u5fc3\u914d\u7f6e\u6587\u4ef6\u4e2d\u8bbe\u7f6e\u5168\u5c40\u914d\u7f6e\u4fe1\u606f\uff1a\nlazyLoadingEnabled\uff1a\u5ef6\u8fdf\u52a0\u8f7d\u7684\u5168\u5c40\u5f00\u5173\u3002\u5f53\u5f00\u542f\u65f6\uff0c\u6240\u6709\u5173\u8054\u5bf9\u8c61\u90fd\u4f1a\u5ef6\u8fdf\u52a0\u8f7d\naggressiveLazyLoading\uff1a\u5f53\u5f00\u542f\u65f6\uff0c\u4efb\u4f55\u65b9\u6cd5\u7684\u8c03\u7528\u90fd\u4f1a\u52a0\u8f7d\u8be5\u5bf9\u8c61\u7684\u6240\u6709\u5c5e\u6027\u3002 \u5426\u5219\uff0c\u6bcf\u4e2a\n\u5c5e\u6027\u4f1a\u6309\u9700\u52a0\u8f7d\n\u6b64\u65f6\u5c31\u53ef\u4ee5\u5b9e\u73b0\u6309\u9700\u52a0\u8f7d\uff0c\u83b7\u53d6\u7684\u6570\u636e\u662f\u4ec0\u4e48\uff0c\u5c31\u53ea\u4f1a\u6267\u884c\u76f8\u5e94\u7684sql\u3002\u6b64\u65f6\u53ef\u901a\u8fc7association\u548c\ncollection\u4e2d\u7684fetchType\u5c5e\u6027\u8bbe\u7f6e\u5f53\u524d\u7684\u5206\u6b65\u67e5\u8be2\u662f\u5426\u4f7f\u7528\u5ef6\u8fdf\u52a0\u8f7d\uff0cfetchType="lazy(\u5ef6\u8fdf\u52a0\n\u8f7d)|eager(\u7acb\u5373\u52a0\u8f7d)"'),(0,r.kt)("h1",{id:"\u4e03\u52a8\u6001sql"},"\u4e03\u3001\u52a8\u6001SQL"),(0,r.kt)("p",null,"Mybatis\u6846\u67b6\u7684\u52a8\u6001SQL\u6280\u672f\u662f\u4e00\u79cd\u6839\u636e\u7279\u5b9a\u6761\u4ef6\u52a8\u6001\u62fc\u88c5SQL\u8bed\u53e5\u7684\u529f\u80fd\uff0c\u5b83\u5b58\u5728\u7684\u610f\u4e49\u662f\u4e3a\u4e86\u89e3\u51b3\n\u62fc\u63a5SQL\u8bed\u53e5\u5b57\u7b26\u4e32\u65f6\u7684\u75db\u70b9\u95ee\u9898\u3002"),(0,r.kt)("h2",{id:"1if"},"1\u3001if"),(0,r.kt)("p",null,"if\u6807\u7b7e\u53ef\u901a\u8fc7test\u5c5e\u6027\u7684\u8868\u8fbe\u5f0f\u8fdb\u884c\u5224\u65ad\uff0c\u82e5\u8868\u8fbe\u5f0f\u7684\u7ed3\u679c\u4e3atrue\uff0c\u5219\u6807\u7b7e\u4e2d\u7684\u5185\u5bb9\u4f1a\u6267\u884c\uff1b\u53cd\u4e4b\u6807\u7b7e\u4e2d\n\u7684\u5185\u5bb9\u4e0d\u4f1a\u6267\u884c"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},'\x3c!--List<Emp> getEmpListByMoreTJ(Emp emp);--\x3e\n<select id="getEmpListByMoreTJ" resultType="Emp">\nselect * from emp where 1=1\n<if test="ename != \'\' and ename != null">\nand ename = #{ename}\n</if>\n<if test="age != \'\' and age != null">\nand age = #{age}\n</if>\n<if test="sex != \'\' and sex != null">\nand sex = #{sex}\n</if>\n</select>\n')),(0,r.kt)("h2",{id:"2where"},"2\u3001where"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},'<select id="getEmpListByMoreTJ2" resultType="Emp">\nselect * from emp\n<where>\n<if test="ename != \'\' and ename != null">\nename = #{ename}\n</if>\n<if test="age != \'\' and age != null">\nand age = #{age}\n</if>\n<if test="sex != \'\' and sex != null">\nand sex = #{sex}\n</if>\n</where>\n</select>\n')),(0,r.kt)("h2",{id:"3trim"},"3\u3001trim"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},'<select id="getEmpListByMoreTJ" resultType="Emp">\nselect * from emp\n<trim prefix="where" suffixOverrides="and">\n<if test="ename != \'\' and ename != null">\nename = #{ename} and\n</if>\n<if test="age != \'\' and age != null">\nage = #{age} and\n</if>\n<if test="sex != \'\' and sex != null">\nsex = #{sex}\n</if>\n</trim>\n</select>\n')),(0,r.kt)("p",null,"trim\u7528\u4e8e\u53bb\u6389\u6216\u6dfb\u52a0\u6807\u7b7e\u4e2d\u7684\u5185\u5bb9\n\u5e38\u7528\u5c5e\u6027\uff1a\nprefix\uff1a\u5728trim\u6807\u7b7e\u4e2d\u7684\u5185\u5bb9\u7684\u524d\u9762\u6dfb\u52a0\u67d0\u4e9b\u5185\u5bb9\nprefixOverrides\uff1a\u5728trim\u6807\u7b7e\u4e2d\u7684\u5185\u5bb9\u7684\u524d\u9762\u53bb\u6389\u67d0\u4e9b\u5185\u5bb9\nsuffix\uff1a\u5728trim\u6807\u7b7e\u4e2d\u7684\u5185\u5bb9\u7684\u540e\u9762\u6dfb\u52a0\u67d0\u4e9b\u5185\u5bb9\nsuffixOverrides\uff1a\u5728trim\u6807\u7b7e\u4e2d\u7684\u5185\u5bb9\u7684\u540e\u9762\u53bb\u6389\u67d0\u4e9b\u5185\u5bb9"),(0,r.kt)("h2",{id:"4choosewhenotherwise"},"4\u3001choose\u3001when\u3001otherwise"),(0,r.kt)("p",null,"choose\u3001when\u3001otherwise\u76f8\u5f53\u4e8eif...else if..else"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},'\x3c!--List<Emp> getEmpListByChoose(Emp emp);--\x3e\n<select id="getEmpListByChoose" resultType="Emp">\nselect <include refid="empColumns"></include> from emp\n<where>\n<choose>\n<when test="ename != \'\' and ename != null">\nename = #{ename}\n</when>\n<when test="age != \'\' and age != null">\nage = #{age}\n</when>\n<when test="sex != \'\' and sex != null">\nsex = #{sex}\n</when>\n<when test="email != \'\' and email != null">\nemail = #{email}\n</when>\n</choose>\n</where>\n</select>\n')),(0,r.kt)("h2",{id:"5foreach"},"5\u3001foreach"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},'\x3c!--int insertMoreEmp(List<Emp> emps);--\x3e\n<insert id="insertMoreEmp">\ninsert into emp values\n<foreach collection="emps" item="emp" separator=",">\n(null,#{emp.ename},#{emp.age},#{emp.sex},#{emp.email},null)\n</foreach>\n</insert>\n\x3c!--int deleteMoreByArray(int[] eids);--\x3e\n<delete id="deleteMoreByArray">\ndelete from emp where\n<foreach collection="eids" item="eid" separator="or">\neid = #{eid}\n</foreach>\n</delete>\n\x3c!--int deleteMoreByArray(int[] eids);--\x3e\n<delete id="deleteMoreByArray">\ndelete from emp where eid in\n<foreach collection="eids" item="eid" separator="," open="(" close=")">\n#{eid}\n</foreach>\n</delete>\n')),(0,r.kt)("p",null,"\u5c5e\u6027\uff1a\ncollection\uff1a\u8bbe\u7f6e\u8981\u5faa\u73af\u7684\u6570\u7ec4\u6216\u96c6\u5408\nitem\uff1a\u8868\u793a\u96c6\u5408\u6216\u6570\u7ec4\u4e2d\u7684\u6bcf\u4e00\u4e2a\u6570\u636e\nseparator\uff1a\u8bbe\u7f6e\u5faa\u73af\u4f53\u4e4b\u95f4\u7684\u5206\u9694\u7b26\nopen\uff1a\u8bbe\u7f6eforeach\u6807\u7b7e\u4e2d\u7684\u5185\u5bb9\u7684\u5f00\u59cb\u7b26\nclose\uff1a\u8bbe\u7f6eforeach\u6807\u7b7e\u4e2d\u7684\u5185\u5bb9\u7684\u7ed3\u675f\u7b26"),(0,r.kt)("h2",{id:"6sql\u7247\u6bb5"},"6\u3001SQL\u7247\u6bb5"),(0,r.kt)("p",null,"sql\u7247\u6bb5\uff0c\u53ef\u4ee5\u8bb0\u5f55\u4e00\u6bb5\u516c\u5171sql\u7247\u6bb5\uff0c\u5728\u4f7f\u7528\u7684\u5730\u65b9\u901a\u8fc7include\u6807\u7b7e\u8fdb\u884c\u5f15\u5165"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},'<sql id="empColumns">\neid,ename,age,sex,did\n</sql>\nselect <include refid="empColumns"></include> from emp\n')),(0,r.kt)("h1",{id:"\u516bmybatis\u7684\u7f13\u5b58"},"\u516b\u3001MyBatis\u7684\u7f13\u5b58"),(0,r.kt)("h2",{id:"1mybatis\u7684\u4e00\u7ea7\u7f13\u5b58"},"1\u3001MyBatis\u7684\u4e00\u7ea7\u7f13\u5b58"),(0,r.kt)("p",null,"\u4e00\u7ea7\u7f13\u5b58\u662fSqlSession\u7ea7\u522b\u7684\uff0c\u901a\u8fc7\u540c\u4e00\u4e2aSqlSession\u67e5\u8be2\u7684\u6570\u636e\u4f1a\u88ab\u7f13\u5b58\uff0c\u4e0b\u6b21\u67e5\u8be2\u76f8\u540c\u7684\u6570\u636e\uff0c\u5c31\n\u4f1a\u4ece\u7f13\u5b58\u4e2d\u76f4\u63a5\u83b7\u53d6\uff0c\u4e0d\u4f1a\u4ece\u6570\u636e\u5e93\u91cd\u65b0\u8bbf\u95ee\n\u4f7f\u4e00\u7ea7\u7f13\u5b58\u5931\u6548\u7684\u56db\u79cd\u60c5\u51b5\uff1a\n1) \u4e0d\u540c\u7684SqlSession\u5bf9\u5e94\u4e0d\u540c\u7684\u4e00\u7ea7\u7f13\u5b58\n2) \u540c\u4e00\u4e2aSqlSession\u4f46\u662f\u67e5\u8be2\u6761\u4ef6\u4e0d\u540c\n3) \u540c\u4e00\u4e2aSqlSession\u4e24\u6b21\u67e5\u8be2\u671f\u95f4\u6267\u884c\u4e86\u4efb\u4f55\u4e00\u6b21\u589e\u5220\u6539\u64cd\u4f5c\n4) \u540c\u4e00\u4e2aSqlSession\u4e24\u6b21\u67e5\u8be2\u671f\u95f4\u624b\u52a8\u6e05\u7a7a\u4e86\u7f13\u5b58"),(0,r.kt)("h2",{id:"2mybatis\u7684\u4e8c\u7ea7\u7f13\u5b58"},"2\u3001MyBatis\u7684\u4e8c\u7ea7\u7f13\u5b58"),(0,r.kt)("p",null,'\u4e8c\u7ea7\u7f13\u5b58\u662fSqlSessionFactory\u7ea7\u522b\uff0c\u901a\u8fc7\u540c\u4e00\u4e2aSqlSessionFactory\u521b\u5efa\u7684SqlSession\u67e5\u8be2\u7684\u7ed3\u679c\u4f1a\u88ab\n\u7f13\u5b58\uff1b\u6b64\u540e\u82e5\u518d\u6b21\u6267\u884c\u76f8\u540c\u7684\u67e5\u8be2\u8bed\u53e5\uff0c\u7ed3\u679c\u5c31\u4f1a\u4ece\u7f13\u5b58\u4e2d\u83b7\u53d6\n\u4e8c\u7ea7\u7f13\u5b58\u5f00\u542f\u7684\u6761\u4ef6\uff1a\na>\u5728\u6838\u5fc3\u914d\u7f6e\u6587\u4ef6\u4e2d\uff0c\u8bbe\u7f6e\u5168\u5c40\u914d\u7f6e\u5c5e\u6027cacheEnabled="true"\uff0c\u9ed8\u8ba4\u4e3atrue\uff0c\u4e0d\u9700\u8981\u8bbe\u7f6e\nb>\u5728\u6620\u5c04\u6587\u4ef6\u4e2d\u8bbe\u7f6e\u6807\u7b7e',(0,r.kt)("cache",null),"\nc>\u4e8c\u7ea7\u7f13\u5b58\u5fc5\u987b\u5728SqlSession\u5173\u95ed\u6216\u63d0\u4ea4\u4e4b\u540e\u6709\u6548\nd>\u67e5\u8be2\u7684\u6570\u636e\u6240\u8f6c\u6362\u7684\u5b9e\u4f53\u7c7b\u7c7b\u578b\u5fc5\u987b\u5b9e\u73b0\u5e8f\u5217\u5316\u7684\u63a5\u53e3\n\u4f7f\u4e8c\u7ea7\u7f13\u5b58\u5931\u6548\u7684\u60c5\u51b5\uff1a\n\u4e24\u6b21\u67e5\u8be2\u4e4b\u95f4\u6267\u884c\u4e86\u4efb\u610f\u7684\u589e\u5220\u6539\uff0c\u4f1a\u4f7f\u4e00\u7ea7\u548c\u4e8c\u7ea7\u7f13\u5b58\u540c\u65f6\u5931\u6548"),(0,r.kt)("h2",{id:"3\u4e8c\u7ea7\u7f13\u5b58\u7684\u76f8\u5173\u914d\u7f6e"},"3\u3001\u4e8c\u7ea7\u7f13\u5b58\u7684\u76f8\u5173\u914d\u7f6e"),(0,r.kt)("p",null,"\u5728mapper\u914d\u7f6e\u6587\u4ef6\u4e2d\u6dfb\u52a0\u7684cache\u6807\u7b7e\u53ef\u4ee5\u8bbe\u7f6e\u4e00\u4e9b\u5c5e\u6027\uff1a\neviction\u5c5e\u6027\uff1a\u7f13\u5b58\u56de\u6536\u7b56\u7565\nLRU\uff08Least Recently Used\uff09 \u2013 \u6700\u8fd1\u6700\u5c11\u4f7f\u7528\u7684\uff1a\u79fb\u9664\u6700\u957f\u65f6\u95f4\u4e0d\u88ab\u4f7f\u7528\u7684\u5bf9\u8c61\u3002\nFIFO\uff08First in First out\uff09 \u2013 \u5148\u8fdb\u5148\u51fa\uff1a\u6309\u5bf9\u8c61\u8fdb\u5165\u7f13\u5b58\u7684\u987a\u5e8f\u6765\u79fb\u9664\u5b83\u4eec\u3002\nSOFT \u2013 \u8f6f\u5f15\u7528\uff1a\u79fb\u9664\u57fa\u4e8e\u5783\u573e\u56de\u6536\u5668\u72b6\u6001\u548c\u8f6f\u5f15\u7528\u89c4\u5219\u7684\u5bf9\u8c61\u3002\nWEAK \u2013 \u5f31\u5f15\u7528\uff1a\u66f4\u79ef\u6781\u5730\u79fb\u9664\u57fa\u4e8e\u5783\u573e\u6536\u96c6\u5668\u72b6\u6001\u548c\u5f31\u5f15\u7528\u89c4\u5219\u7684\u5bf9\u8c61\u3002\n\u9ed8\u8ba4\u7684\u662f LRU\u3002\nflushInterval\u5c5e\u6027\uff1a\u5237\u65b0\u95f4\u9694\uff0c\u5355\u4f4d\u6beb\u79d2\n\u9ed8\u8ba4\u60c5\u51b5\u662f\u4e0d\u8bbe\u7f6e\uff0c\u4e5f\u5c31\u662f\u6ca1\u6709\u5237\u65b0\u95f4\u9694\uff0c\u7f13\u5b58\u4ec5\u4ec5\u8c03\u7528\u8bed\u53e5\u65f6\u5237\u65b0\nsize\u5c5e\u6027\uff1a\u5f15\u7528\u6570\u76ee\uff0c\u6b63\u6574\u6570\n\u4ee3\u8868\u7f13\u5b58\u6700\u591a\u53ef\u4ee5\u5b58\u50a8\u591a\u5c11\u4e2a\u5bf9\u8c61\uff0c\u592a\u5927\u5bb9\u6613\u5bfc\u81f4\u5185\u5b58\u6ea2\u51fa\nreadOnly\u5c5e\u6027\uff1a\u53ea\u8bfb\uff0ctrue/false\ntrue\uff1a\u53ea\u8bfb\u7f13\u5b58\uff1b\u4f1a\u7ed9\u6240\u6709\u8c03\u7528\u8005\u8fd4\u56de\u7f13\u5b58\u5bf9\u8c61\u7684\u76f8\u540c\u5b9e\u4f8b\u3002\u56e0\u6b64\u8fd9\u4e9b\u5bf9\u8c61\u4e0d\u80fd\u88ab\u4fee\u6539\u3002\u8fd9\u63d0\u4f9b\u4e86\n\u5f88\u91cd\u8981\u7684\u6027\u80fd\u4f18\u52bf\u3002\nfalse\uff1a\u8bfb\u5199\u7f13\u5b58\uff1b\u4f1a\u8fd4\u56de\u7f13\u5b58\u5bf9\u8c61\u7684\u62f7\u8d1d\uff08\u901a\u8fc7\u5e8f\u5217\u5316\uff09\u3002\u8fd9\u4f1a\u6162\u4e00\u4e9b\uff0c\u4f46\u662f\u5b89\u5168\uff0c\u56e0\u6b64\u9ed8\u8ba4\u662f\nfalse\u3002"),(0,r.kt)("h2",{id:"4mybatis\u7f13\u5b58\u67e5\u8be2\u7684\u987a\u5e8f"},"4\u3001MyBatis\u7f13\u5b58\u67e5\u8be2\u7684\u987a\u5e8f"),(0,r.kt)("p",null,"\u5148\u67e5\u8be2\u4e8c\u7ea7\u7f13\u5b58\uff0c\u56e0\u4e3a\u4e8c\u7ea7\u7f13\u5b58\u4e2d\u53ef\u80fd\u4f1a\u6709\u5176\u4ed6\u7a0b\u5e8f\u5df2\u7ecf\u67e5\u51fa\u6765\u7684\u6570\u636e\uff0c\u53ef\u4ee5\u62ff\u6765\u76f4\u63a5\u4f7f\u7528\u3002\n\u5982\u679c\u4e8c\u7ea7\u7f13\u5b58\u6ca1\u6709\u547d\u4e2d\uff0c\u518d\u67e5\u8be2\u4e00\u7ea7\u7f13\u5b58\n\u5982\u679c\u4e00\u7ea7\u7f13\u5b58\u4e5f\u6ca1\u6709\u547d\u4e2d\uff0c\u5219\u67e5\u8be2\u6570\u636e\u5e93\nSqlSession\u5173\u95ed\u4e4b\u540e\uff0c\u4e00\u7ea7\u7f13\u5b58\u4e2d\u7684\u6570\u636e\u4f1a\u5199\u5165\u4e8c\u7ea7\u7f13\u5b58"),(0,r.kt)("h2",{id:"5\u6574\u5408\u7b2c\u4e09\u65b9\u7f13\u5b58ehcache"},"5\u3001\u6574\u5408\u7b2c\u4e09\u65b9\u7f13\u5b58EHCache"),(0,r.kt)("h3",{id:"1-\u6dfb\u52a0\u4f9d\u8d56"},"(1) \u6dfb\u52a0\u4f9d\u8d56"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},"\x3c!-- Mybatis EHCache\u6574\u5408\u5305 --\x3e\n<dependency>\n    <groupId>org.mybatis.caches</groupId>\n    <artifactId>mybatis-ehcache</artifactId>\n    <version>1.2.1</version>\n</dependency>\n\x3c!-- slf4j\u65e5\u5fd7\u95e8\u9762\u7684\u4e00\u4e2a\u5177\u4f53\u5b9e\u73b0 --\x3e\n<dependency>\n    <groupId>ch.qos.logback</groupId>\n    <artifactId>logback-classic</artifactId>\n    <version>1.2.3</version>\n</dependency>\n")),(0,r.kt)("h3",{id:"2-\u521b\u5efaehcache\u7684\u914d\u7f6e\u6587\u4ef6ehcachexml"},"(2) \u521b\u5efaEHCache\u7684\u914d\u7f6e\u6587\u4ef6ehcache.xml"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},'<?xml version="1.0" encoding="utf-8" ?>\n<ehcache xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n    xsi:noNamespaceSchemaLocation="../config/ehcache.xsd">\n\x3c!-- \u78c1\u76d8\u4fdd\u5b58\u8def\u5f84 --\x3e\n    <diskStore path="D:\\xuyao\\ehcache"/>\n    <defaultCache\n        maxElementsInMemory="1000"\n        maxElementsOnDisk="10000000"\n        eternal="false"\n        overflowToDisk="true"\n        timeToIdleSeconds="120"\n        timeToLiveSeconds="120"\n        diskExpiryThreadIntervalSeconds="120"\n        memoryStoreEvictionPolicy="LRU">\n    </defaultCache>\n</ehcache>\n')),(0,r.kt)("h3",{id:"3-\u8bbe\u7f6e\u4e8c\u7ea7\u7f13\u5b58\u7684\u7c7b\u578b"},"(3) \u8bbe\u7f6e\u4e8c\u7ea7\u7f13\u5b58\u7684\u7c7b\u578b"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},'<cache type="org.mybatis.caches.ehcache.EhcacheCache"/>\n')),(0,r.kt)("h3",{id:"4-\u52a0\u5165logback\u65e5\u5fd7"},"(4) \u52a0\u5165logback\u65e5\u5fd7"),(0,r.kt)("p",null,"\u5b58\u5728SLF4J\u65f6\uff0c\u4f5c\u4e3a\u7b80\u6613\u65e5\u5fd7\u7684log4j\u5c06\u5931\u6548\uff0c\u6b64\u65f6\u6211\u4eec\u9700\u8981\u501f\u52a9SLF4J\u7684\u5177\u4f53\u5b9e\u73b0logback\u6765\u6253\u5370\u65e5\u5fd7\u3002\n\u521b\u5efalogback\u7684\u914d\u7f6e\u6587\u4ef6logback.xml"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},'<?xml version="1.0" encoding="UTF-8"?>\n<configuration debug="true">\n    \x3c!-- \u6307\u5b9a\u65e5\u5fd7\u8f93\u51fa\u7684\u4f4d\u7f6e --\x3e\n    <appender name="STDOUT"\n        class="ch.qos.logback.core.ConsoleAppender">\n        <encoder>\n            \x3c!-- \u65e5\u5fd7\u8f93\u51fa\u7684\u683c\u5f0f --\x3e\n            \x3c!-- \u6309\u7167\u987a\u5e8f\u5206\u522b\u662f\uff1a\u65f6\u95f4\u3001\u65e5\u5fd7\u7ea7\u522b\u3001\u7ebf\u7a0b\u540d\u79f0\u3001\u6253\u5370\u65e5\u5fd7\u7684\u7c7b\u3001\u65e5\u5fd7\u4e3b\u4f53\u5185\u5bb9\u3001\u6362\u884c --\x3e\n            <pattern>[%d{HH:mm:ss.SSS}] [%-5level] [%thread] [%logger]\n            [%msg]%n</pattern>\n            </encoder>\n            </appender>\n\n            \x3c!-- \u8bbe\u7f6e\u5168\u5c40\u65e5\u5fd7\u7ea7\u522b\u3002\u65e5\u5fd7\u7ea7\u522b\u6309\u987a\u5e8f\u5206\u522b\u662f\uff1aDEBUG\u3001INFO\u3001WARN\u3001ERROR --\x3e\n            \x3c!-- \u6307\u5b9a\u4efb\u4f55\u4e00\u4e2a\u65e5\u5fd7\u7ea7\u522b\u90fd\u53ea\u6253\u5370\u5f53\u524d\u7ea7\u522b\u548c\u540e\u9762\u7ea7\u522b\u7684\u65e5\u5fd7\u3002 --\x3e\n            <root level="DEBUG">\n                \x3c!-- \u6307\u5b9a\u6253\u5370\u65e5\u5fd7\u7684appender\uff0c\u8fd9\u91cc\u901a\u8fc7\u201cSTDOUT\u201d\u5f15\u7528\u4e86\u524d\u9762\u914d\u7f6e\u7684appender --\x3e\n                <appender-ref ref="STDOUT" />\n            </root>\n            \x3c!-- \u6839\u636e\u7279\u6b8a\u9700\u6c42\u6307\u5b9a\u5c40\u90e8\u65e5\u5fd7\u7ea7\u522b --\x3e\n            <logger name="com.xuyao.crowd.mapper" level="DEBUG"/>\n</configuration>\n')),(0,r.kt)("h3",{id:"5-ehcache\u914d\u7f6e\u6587\u4ef6\u8bf4\u660e"},"(5) >EHCache\u914d\u7f6e\u6587\u4ef6\u8bf4\u660e"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"\u5c5e\u6027\u540d"),(0,r.kt)("th",{parentName:"tr",align:null},"\u662f\u5426\u5fc5\u987b"),(0,r.kt)("th",{parentName:"tr",align:null},"\u4f5c\u7528"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"maxElementsInMemory"),(0,r.kt)("td",{parentName:"tr",align:null},"\u662f"),(0,r.kt)("td",{parentName:"tr",align:null},"\u5728\u5185\u5b58\u4e2d\u7f13\u5b58\u7684element\u7684\u6700\u5927\u6570\u76ee")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"maxElementsOnDisk"),(0,r.kt)("td",{parentName:"tr",align:null},"\u662f"),(0,r.kt)("td",{parentName:"tr",align:null},"\u5728\u78c1\u76d8\u4e0a\u7f13\u5b58\u7684element\u7684\u6700\u5927\u6570\u76ee\uff0c\u82e5\u662f0\u8868\u793a\u65e0\u7a77\u5927")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"eternal"),(0,r.kt)("td",{parentName:"tr",align:null},"\u662f"),(0,r.kt)("td",{parentName:"tr",align:null},"\u8bbe\u5b9a\u7f13\u5b58\u7684elements\u662f\u5426\u6c38\u8fdc\u4e0d\u8fc7\u671f\u3002 \u5982\u679c\u4e3atrue\uff0c\u5219\u7f13\u5b58\u7684\u6570\u636e\u59cb\u7ec8\u6709\u6548\uff0c \u5982\u679c\u4e3afalse\u90a3\u4e48\u8fd8\u8981\u6839\u636etimeToIdleSeconds\u3001timeToLiveSeconds\u5224\u65ad")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"overflowToDisk"),(0,r.kt)("td",{parentName:"tr",align:null},"\u662f"),(0,r.kt)("td",{parentName:"tr",align:null},"\u8bbe\u5b9a\u5f53\u5185\u5b58\u7f13\u5b58\u6ea2\u51fa\u7684\u65f6\u5019\u662f\u5426\u5c06\u8fc7\u671f\u7684element\u7f13\u5b58\u5230\u78c1\u76d8\u4e0a")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"timeToIdleSeconds"),(0,r.kt)("td",{parentName:"tr",align:null},"\u5426"),(0,r.kt)("td",{parentName:"tr",align:null},"\u5f53\u7f13\u5b58\u5728EhCache\u4e2d\u7684\u6570\u636e\u524d\u540e\u4e24\u6b21\u8bbf\u95ee\u7684\u65f6\u95f4\u8d85\u8fc7timeToIdleSeconds\u7684\u5c5e\u6027\u53d6\u503c\u65f6\uff0c \u8fd9\u4e9b\u6570\u636e\u4fbf\u4f1a\u5220\u9664\uff0c\u9ed8\u8ba4\u503c\u662f0,\u4e5f\u5c31\u662f\u53ef\u95f2\u7f6e\u65f6\u95f4\u65e0\u7a77\u5927")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"timeToLiveSeconds"),(0,r.kt)("td",{parentName:"tr",align:null},"\u5426"),(0,r.kt)("td",{parentName:"tr",align:null},"\u7f13\u5b58element\u7684\u6709\u6548\u751f\u547d\u671f\uff0c\u9ed8\u8ba4\u662f0.,\u4e5f\u5c31\u662felement\u5b58\u6d3b\u65f6\u95f4\u65e0\u7a77\u5927")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"diskSpoolBufferSizeMB"),(0,r.kt)("td",{parentName:"tr",align:null},"\u5426"),(0,r.kt)("td",{parentName:"tr",align:null},"DiskStore(\u78c1\u76d8\u7f13\u5b58)\u7684\u7f13\u5b58\u533a\u5927\u5c0f\u3002\u9ed8\u8ba4\u662f30MB\u3002\u6bcf\u4e2aCache\u90fd\u5e94\u8be5\u6709\u81ea\u5df1\u7684\u4e00\u4e2a\u7f13\u51b2\u533a")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"diskPersistent"),(0,r.kt)("td",{parentName:"tr",align:null},"\u5426"),(0,r.kt)("td",{parentName:"tr",align:null},"\u5728VM\u91cd\u542f\u7684\u65f6\u5019\u662f\u5426\u542f\u7528\u78c1\u76d8\u4fdd\u5b58EhCache\u4e2d\u7684\u6570\u636e\uff0c\u9ed8\u8ba4\u662ffalse\u3002")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"diskExpiryThreadIntervalSeconds"),(0,r.kt)("td",{parentName:"tr",align:null},"\u5426"),(0,r.kt)("td",{parentName:"tr",align:null},"\u78c1\u76d8\u7f13\u5b58\u7684\u6e05\u7406\u7ebf\u7a0b\u8fd0\u884c\u95f4\u9694\uff0c\u9ed8\u8ba4\u662f120\u79d2\u3002\u6bcf\u4e2a120s\uff0c \u76f8\u5e94\u7684\u7ebf\u7a0b\u4f1a\u8fdb\u884c\u4e00\u6b21EhCache\u4e2d\u6570\u636e\u7684\u6e05\u7406\u5de5\u4f5c")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"memoryStoreEvictionPolicy"),(0,r.kt)("td",{parentName:"tr",align:null},"\u5426"),(0,r.kt)("td",{parentName:"tr",align:null},"\u5f53\u5185\u5b58\u7f13\u5b58\u8fbe\u5230\u6700\u5927\uff0c\u6709\u65b0\u7684element\u52a0\u5165\u7684\u65f6\u5019\uff0c \u79fb\u9664\u7f13\u5b58\u4e2delement\u7684\u7b56\u7565\u3002 \u9ed8\u8ba4\u662fLRU\uff08\u6700\u8fd1\u6700\u5c11\u4f7f\u7528\uff09\uff0c\u53ef\u9009\u7684\u6709LFU\uff08\u6700\u4e0d\u5e38\u4f7f\u7528\uff09\u548cFIFO\uff08\u5148\u8fdb\u5148\u51fa\uff09")))),(0,r.kt)("h1",{id:"\u4e5dmybatis\u7684\u9006\u5411\u5de5\u7a0b"},"\u4e5d\u3001MyBatis\u7684\u9006\u5411\u5de5\u7a0b"),(0,r.kt)("p",null,"\u6b63\u5411\u5de5\u7a0b\uff1a\u5148\u521b\u5efaJava\u5b9e\u4f53\u7c7b\uff0c\u7531\u6846\u67b6\u8d1f\u8d23\u6839\u636e\u5b9e\u4f53\u7c7b\u751f\u6210\u6570\u636e\u5e93\u8868\u3002Hibernate\u662f\u652f\u6301\u6b63\u5411\u5de5\u7a0b\n\u7684\u3002"),(0,r.kt)("p",null,"\u9006\u5411\u5de5\u7a0b\uff1a\u5148\u521b\u5efa\u6570\u636e\u5e93\u8868\uff0c\u7531\u6846\u67b6\u8d1f\u8d23\u6839\u636e\u6570\u636e\u5e93\u8868\uff0c\u53cd\u5411\u751f\u6210\u5982\u4e0b\u8d44\u6e90\uff1a"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Java\u5b9e\u4f53\u7c7b"),(0,r.kt)("li",{parentName:"ul"},"Mapper\u63a5\u53e3"),(0,r.kt)("li",{parentName:"ul"},"Mapper\u6620\u5c04\u6587\u4ef6")),(0,r.kt)("h2",{id:"1\u521b\u5efa\u9006\u5411\u5de5\u7a0b\u7684\u6b65\u9aa4"},"1\u3001\u521b\u5efa\u9006\u5411\u5de5\u7a0b\u7684\u6b65\u9aa4"),(0,r.kt)("h3",{id:"1-\u6dfb\u52a0\u4f9d\u8d56\u548c\u63d2\u4ef6"},"(1) \u6dfb\u52a0\u4f9d\u8d56\u548c\u63d2\u4ef6"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},"\x3c!-- \u4f9d\u8d56MyBatis\u6838\u5fc3\u5305 --\x3e\n<dependencies>\n    <dependency>\n    <groupId>org.mybatis</groupId>\n    <artifactId>mybatis</artifactId>\n    <version>3.5.7</version>\n    </dependency>\n</dependencies>\n\n\x3c!-- \u63a7\u5236Maven\u5728\u6784\u5efa\u8fc7\u7a0b\u4e2d\u76f8\u5173\u914d\u7f6e --\x3e\n    <build>\n    \x3c!-- \u6784\u5efa\u8fc7\u7a0b\u4e2d\u7528\u5230\u7684\u63d2\u4ef6 --\x3e\n        <plugins>\n            \x3c!-- \u5177\u4f53\u63d2\u4ef6\uff0c\u9006\u5411\u5de5\u7a0b\u7684\u64cd\u4f5c\u662f\u4ee5\u6784\u5efa\u8fc7\u7a0b\u4e2d\u63d2\u4ef6\u5f62\u5f0f\u51fa\u73b0\u7684 --\x3e\n            <plugin>\n                <groupId>org.mybatis.generator</groupId>\n                <artifactId>mybatis-generator-maven-plugin</artifactId>\n                <version>1.3.0</version>\n                \x3c!-- \u63d2\u4ef6\u7684\u4f9d\u8d56 --\x3e\n\n                <dependencies>\n                \x3c!-- \u9006\u5411\u5de5\u7a0b\u7684\u6838\u5fc3\u4f9d\u8d56 --\x3e\n                    <dependency>\n                        <groupId>org.mybatis.generator</groupId>\n                        <artifactId>mybatis-generator-core</artifactId>\n                        <version>1.3.2</version>\n                    </dependency>\n                \x3c!-- \u6570\u636e\u5e93\u8fde\u63a5\u6c60 --\x3e\n                    <dependency>\n                        <groupId>com.mchange</groupId>\n                        <artifactId>c3p0</artifactId>\n                        <version>0.9.2</version>\n                    </dependency>\n                \x3c!-- MySQL\u9a71\u52a8 --\x3e\n                    <dependency>\n                        <groupId>mysql</groupId>\n                        <artifactId>mysql-connector-java</artifactId>\n                        <version>5.1.8</version>\n                    </dependency>\n                </dependencies>\n            </plugin>\n        </plugins>\n    </build>\n")),(0,r.kt)("h3",{id:"2-\u521b\u5efamybatis\u7684\u6838\u5fc3\u914d\u7f6e\u6587\u4ef6-1"},"(2) \u521b\u5efaMyBatis\u7684\u6838\u5fc3\u914d\u7f6e\u6587\u4ef6"),(0,r.kt)("h3",{id:"3-\u521b\u5efa\u9006\u5411\u5de5\u7a0b\u7684\u914d\u7f6e\u6587\u4ef6"},"(3) \u521b\u5efa\u9006\u5411\u5de5\u7a0b\u7684\u914d\u7f6e\u6587\u4ef6"),(0,r.kt)("p",null,"\u6587\u4ef6\u540d\u5fc5\u987b\u662f\uff1ageneratorConfig.xml"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},'<?xml version="1.0" encoding="UTF-8"?>\n<!DOCTYPE generatorConfiguration\nPUBLIC "-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN"\n"http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd">\n<generatorConfiguration>\n\x3c!--\ntargetRuntime: \u6267\u884c\u751f\u6210\u7684\u9006\u5411\u5de5\u7a0b\u7684\u7248\u672c\nMyBatis3Simple: \u751f\u6210\u57fa\u672c\u7684CRUD\uff08\u6e05\u65b0\u7b80\u6d01\u7248\uff09\nMyBatis3: \u751f\u6210\u5e26\u6761\u4ef6\u7684CRUD\uff08\u5962\u534e\u5c0a\u4eab\u7248\uff09\n--\x3e\n<context id="DB2Tables" targetRuntime="MyBatis3Simple">\n\x3c!-- \u6570\u636e\u5e93\u7684\u8fde\u63a5\u4fe1\u606f --\x3e\n<jdbcConnection driverClass="com.mysql.jdbc.Driver"\nconnectionURL="jdbc:mysql://localhost:3306/mybatis"\nuserId="root"\npassword="123456">\n</jdbcConnection>\n\x3c!-- javaBean\u7684\u751f\u6210\u7b56\u7565--\x3e\n<javaModelGenerator targetPackage="com.xuyao.mybatis.bean"\ntargetProject=".\\src\\main\\java">\n<property name="enableSubPackages" value="true" />\n<property name="trimStrings" value="true" />\n</javaModelGenerator>\n\x3c!-- SQL\u6620\u5c04\u6587\u4ef6\u7684\u751f\u6210\u7b56\u7565 --\x3e\n<sqlMapGenerator targetPackage="com.xuyao.mybatis.mapper"\ntargetProject=".\\src\\main\\resources">\n<property name="enableSubPackages" value="true" />\n</sqlMapGenerator>\n\x3c!-- Mapper\u63a5\u53e3\u7684\u751f\u6210\u7b56\u7565 --\x3e\n<javaClientGenerator type="XMLMAPPER"\ntargetPackage="com.xuyao.mybatis.mapper" targetProject=".\\src\\main\\java">\n<property name="enableSubPackages" value="true" />\n</javaClientGenerator>\n\x3c!-- \u9006\u5411\u5206\u6790\u7684\u8868 --\x3e\n\x3c!-- tableName\u8bbe\u7f6e\u4e3a*\u53f7\uff0c\u53ef\u4ee5\u5bf9\u5e94\u6240\u6709\u8868\uff0c\u6b64\u65f6\u4e0d\u5199domainObjectName --\x3e\n\x3c!-- domainObjectName\u5c5e\u6027\u6307\u5b9a\u751f\u6210\u51fa\u6765\u7684\u5b9e\u4f53\u7c7b\u7684\u7c7b\u540d --\x3e\n<table tableName="emp" domainObjectName="Emp"/>\n<table tableName="dept" domainObjectName="Dept"/>\n</context>\n</generatorConfiguration>\n')),(0,r.kt)("h3",{id:"4-\u6267\u884cmbg\u63d2\u4ef6\u7684generate\u76ee\u6807"},"(4) \u6267\u884cMBG\u63d2\u4ef6\u7684generate\u76ee\u6807"),(0,r.kt)("h2",{id:"2qbc\u67e5\u8be2"},"2\u3001QBC\u67e5\u8be2"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'@Test\npublic void testMBG() throws IOException {\nInputStream is = Resources.getResourceAsStream("mybatis-config.xml");\nSqlSession sqlSession = new\nSqlSessionFactoryBuilder().build(is).openSession(true);\nEmpMapper mapper = sqlSession.getMapper(EmpMapper.class);\nEmpExample empExample = new EmpExample();\n//\u521b\u5efa\u6761\u4ef6\u5bf9\u8c61\uff0c\u901a\u8fc7andXXX\u65b9\u6cd5\u4e3aSQL\u6dfb\u52a0\u67e5\u8be2\u6dfb\u52a0\uff0c\u6bcf\u4e2a\u6761\u4ef6\u4e4b\u95f4\u662fand\u5173\u7cfb\nempExample.createCriteria().andEnameLike("a").andAgeGreaterThan(20).andDidIsNot\nNull();\n//\u5c06\u4e4b\u524d\u6dfb\u52a0\u7684\u6761\u4ef6\u901a\u8fc7or\u62fc\u63a5\u5176\u4ed6\u6761\u4ef6\nempExample.or().andSexEqualTo("\u7537");\nList<Emp> list = mapper.selectByExample(empExample);\nfor (Emp emp : list) {\nSystem.out.println(emp);\n}\n}\n')),(0,r.kt)("h1",{id:"\u5341\u5206\u9875\u63d2\u4ef6"},"\u5341\u3001\u5206\u9875\u63d2\u4ef6"),(0,r.kt)("h2",{id:"1\u5206\u9875\u63d2\u4ef6\u4f7f\u7528\u6b65\u9aa4"},"1\u3001\u5206\u9875\u63d2\u4ef6\u4f7f\u7528\u6b65\u9aa4"),(0,r.kt)("h3",{id:"1-\u6dfb\u52a0\u4f9d\u8d56-1"},"(1) \u6dfb\u52a0\u4f9d\u8d56"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},"\x3c!-- https://mvnrepository.com/artifact/com.github.pagehelper/pagehelper --\x3e\n<dependency>\n<groupId>com.github.pagehelper</groupId>\n<artifactId>pagehelper</artifactId>\n<version>5.2.0</version>\n</dependency>\n")),(0,r.kt)("h3",{id:"2-\u914d\u7f6e\u5206\u9875\u63d2\u4ef6"},"(2) \u914d\u7f6e\u5206\u9875\u63d2\u4ef6"),(0,r.kt)("p",null,"\u5728MyBatis\u7684\u6838\u5fc3\u914d\u7f6e\u6587\u4ef6\u4e2d\u914d\u7f6e\u63d2\u4ef6"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},'<plugins>\n\x3c!--\u8bbe\u7f6e\u5206\u9875\u63d2\u4ef6--\x3e\n<plugin interceptor="com.github.pagehelper.PageInterceptor"></plugin>\n</plugins>\n')),(0,r.kt)("h2",{id:"2\u5206\u9875\u63d2\u4ef6\u7684\u4f7f\u7528"},"2\u3001\u5206\u9875\u63d2\u4ef6\u7684\u4f7f\u7528"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},"(1)\u5728\u67e5\u8be2\u529f\u80fd\u4e4b\u524d\u4f7f\u7528PageHelper.startPage(int pageNum, int pageSize)\u5f00\u542f\u5206\u9875\u529f\u80fd\npageNum\uff1a\u5f53\u524d\u9875\u7684\u9875\u7801\npageSize\uff1a\u6bcf\u9875\u663e\u793a\u7684\u6761\u6570\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},"(2)\u5728\u67e5\u8be2\u83b7\u53d6list\u96c6\u5408\u4e4b\u540e\uff0c\u4f7f\u7528PageInfo<T> pageInfo = new PageInfo<>(List<T> list, int\nnavigatePages)\u83b7\u53d6\u5206\u9875\u76f8\u5173\u6570\u636e\nlist\uff1a\u5206\u9875\u4e4b\u540e\u7684\u6570\u636e\nnavigatePages\uff1a\u5bfc\u822a\u5206\u9875\u7684\u9875\u7801\u6570\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},"(3)\u5206\u9875\u76f8\u5173\u6570\u636e\n\u5e38\u7528\u6570\u636e\uff1a\npageNum\uff1a\u5f53\u524d\u9875\u7684\u9875\u7801\npageSize\uff1a\u6bcf\u9875\u663e\u793a\u7684\u6761\u6570\nsize\uff1a\u5f53\u524d\u9875\u663e\u793a\u7684\u771f\u5b9e\u6761\u6570\ntotal\uff1a\u603b\u8bb0\u5f55\u6570\npages\uff1a\u603b\u9875\u6570\nprePage\uff1a\u4e0a\u4e00\u9875\u7684\u9875\u7801\nnextPage\uff1a\u4e0b\u4e00\u9875\u7684\u9875\u7801\nisFirstPage/isLastPage\uff1a\u662f\u5426\u4e3a\u7b2c\u4e00\u9875/\u6700\u540e\u4e00\u9875\nhasPreviousPage/hasNextPage\uff1a\u662f\u5426\u5b58\u5728\u4e0a\u4e00\u9875/\u4e0b\u4e00\u9875\nnavigatePages\uff1a\u5bfc\u822a\u5206\u9875\u7684\u9875\u7801\u6570\nnavigatepageNums\uff1a\u5bfc\u822a\u5206\u9875\u7684\u9875\u7801\uff0c[1,2,3,4,5]\n\n")))}c.isMDXComponent=!0}}]);